(self.webpackChunkarvebot=self.webpackChunkarvebot||[]).push([[119],{81334:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Or}});var r=n(72791),a=n(61889),s=n(60005),i=n(1413),o=n(45987),l=n(72606),d=n(32358),c=n(763),u=n.n(c),v=n(44031),p=new d.x,h=new d.x,g=new Array,f=new Array,_=new Array,m=0,x=!1,T=function(e){return h.next(e)},E=function(){return p.asObservable()},b=function(){return h.asObservable()},y=function(e){return g.push(e)},S=function(e){return f.push(e)},C=function(e){var t=u().cloneDeep(e);0===_.filter((function(e){return Object.entries(e)==Object.entries(t)})).length&&_.push(t)},M=function(){return 0===_.length?null:_.pop()},j=function(e){for(var t={},n=0;n<e;n++){if(0===_.length)return v.ym;t=_.pop()}return t},N=function(e){return 0===_.length?null:_[_.length-1-e]},I=function(){g.forEach((function(e){e.unsubscribe()}))},k=function(){f.forEach((function(e){e.unsubscribe()}))},A=function(){m+=1},Z=function(){return m},P=function(){m=0},O=function(){x=!0},B=function(){x=!1},R=function(){return x},w=function(){for(;_.length>0;)_.shift();m=0,x=!1},D=function(e){return e[e.yes=0]="yes",e[e.ja=1]="ja",e}({}),L=function(e){return e[e.no=0]="no",e[e.nei=1]="nei",e}({}),V=n(13430),H=function(e){return e[e.emptyValue=0]="emptyValue",e[e.invalidAmount=1]="invalidAmount",e[e.onlyDigit=2]="onlyDigit",e[e.incorrectValueForBoolean=3]="incorrectValueForBoolean",e[e.incorrectValueForUndividedOptions=4]="incorrectValueForUndividedOptions",e}({}),F=function(e){return e.emptyValueMessage="The field cannot be empty.",e.onlyDigitMessage="Only numerical values are allowed.",e.errorForBooleanMessage="Please choose correct value or write 'yes/ja', 'no/nei'.",e.invalidAmountMessage="Please enter the amount in correct format.",e.incorrectValueForUndividedMessage="Please choose one of the options or write them in the answer field.",e}({}),W=n(37762),U=n(15671),Q=n(43144),K=function(){function e(t,n){var r=this;(0,U.Z)(this,e),this.actionProvider=t,this.chatbotState=n,this.validate=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t=r.addEmptyRuleAndSortInc(t);var a,s=(0,W.Z)(t);try{for(s.s();!(a=s.n()).done;){var i=a.value,o=!1;switch(i){case H.emptyValue:o=r.validateEmpty(e);break;case H.invalidAmount:o=r.validateAmount(e);break;case H.onlyDigit:o=r.validateDigit(e);break;case H.incorrectValueForBoolean:o=r.validateValueForBoolean(e);break;case H.incorrectValueForUndividedOptions:o=r.validateValueForUndividedOptions(e);break;default:return console.error("Invalid Validation type"),!1}if(""!==n||o||(n=r.getWarningMessage(i)),!o&&r.chatbotState){r.showWarning(n);var l=u().cloneDeep(r.chatbotState.messages);return r.actionProvider.handleValidation(l,r.actionProvider.stateRef),!1}r.hideWarning()}}catch(d){s.e(d)}finally{s.f()}return!0},this.validateEmpty=function(e){return 0!==e.length},this.validateAmount=function(e){return!!e.match(/^\d*(\.\d+)?$/)},this.validateDigit=function(e){return!!/^(0|([1-9]\d*))$/.test(e)},this.validateValueForBoolean=function(e){return(e in D||e in L)&&!(e in[0,1])},this.validateValueForUndividedOptions=function(e){for(var t=0,n=Object.values(V.cq);t<n.length;t++){if(n[t].includes(e.toUpperCase()))return!0}return!1},this.showWarning=function(e){var t=document.getElementById("chatbot-warning-div");if(t){t.innerHTML='<div id="chatbot-warning-innerDiv"><p style="margin: 0.3rem">'.concat(e,"</p></div>"),t.style.display="block";var n=document.getElementById("chatbot-warning-innerDiv"),r=document.createElement("button");return r.innerHTML="x",r.style.cssText="position: absolute; top: 0; right: 0;",r.addEventListener("click",(function(){n&&n.remove()})),void(null!==n&&n.appendChild(r))}},this.hideWarning=function(){var e=document.getElementById("chatbot-warning-div");e&&(e.style.display="none")},this.addEmptyRuleAndSortInc=function(e){return e.includes(0)||e.push(0),e.sort((function(e,t){return e-t}))}}return(0,Q.Z)(e,[{key:"getWarningMessage",value:function(e){switch(e){case H.emptyValue:return F.emptyValueMessage;case H.incorrectValueForBoolean:return F.errorForBooleanMessage;case H.invalidAmount:return F.invalidAmountMessage;case H.onlyDigit:return F.onlyDigitMessage;case H.incorrectValueForUndividedOptions:return F.incorrectValueForUndividedMessage;default:return"Improve error message in ChatbotType.ts"}}}]),e}(),G={0:["0","zero","null","ingen","None","ikkje nokon"],1:["1","one","en","ett","et","ein","eitt","eit"],2:["2","two","to"],3:["3","three","tre"],4:["4","four","fire"],5:["5","five","fem"],6:["6","six","seks"],7:["7","seven","syv","sju"],8:["8","eight","aatte","\xe5tte"],9:["9","nine","ni"],10:["10","ten","ti"],11:["11","eleven","elleve"],12:["12","twelve","tolv"],13:["13","thirteen","tretten"],14:["14","fourteen","fjorten"],15:["15","fifteen","femten"],16:["16","sixteen","seksten"],17:["17","seventeen","sytten","s\xf8tten"],18:["18","eighteen","atten"],19:["19","nineeen","nitten"],20:["20","twenty","tyve","tjue"],21:["21"]},z=n(4942),Y=n(80184),X=function(e,t){return t=(0,i.Z)((0,i.Z)({},t),{},{yesNoClickedFlag:!0}),"yes"===e?(0,Y.jsx)(l.Z,{id:"Chatbot.Yes"}):(0,Y.jsx)(l.Z,{id:"Chatbot.No"})},q=function(e,t){var n,r;return t=(0,i.Z)((0,i.Z)({},t),{},{yesNoClickedFlag:!0}),null!==(r=(n={},(0,z.Z)(n,V.cq.felleseie[0],(0,Y.jsx)(l.Z,{id:V.ky.FELLESEIE})),(0,z.Z)(n,V.cq.delvis[0],(0,Y.jsx)(l.Z,{id:V.ky.DELVIS})),(0,z.Z)(n,V.cq.fullt[0],(0,Y.jsx)(l.Z,{id:V.ky.FULLT})),n)[e])&&void 0!==r?r:"The message is not in the array"},$=function(e){return new Intl.NumberFormat("no-NO",{style:"currency",currency:"NOK",currencyDisplay:"narrowSymbol",minimumFractionDigits:0,maximumFractionDigits:0}).format(Number(e.replace(/[^0-9.-]+/g,""))).replace("kr","kr.").concat(",-")},J=function(e){if(/\d/.test(e)){var t=function(e){var t="",n="",r=e.match(/^[\D]{0,}/);if(r){var a=r[0];t=e.substring(a.length)}var s=t.match(/[^\d]{0,}$/);if(s){var i=s[0];n=t.substring(0,t.length-i.length)}return n.replace(" ","").replace(".","").replace(",","")}(e),n="correct",r=function(e){var t,n=0,r=(0,W.Z)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;","!=a&&" "!=a&&"."!=a||(n+=1)}}catch(s){r.e(s)}finally{r.f()}return 0==n?0:n>1?2:1}(t);return 0!==r&&(n=function(e){var t,n=0,r=(0,W.Z)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(n>3)return"incorrect";","!==a&&" "!==a&&"."!==a?n+=1:n=0}}catch(s){r.e(s)}finally{r.f()}return"correct"}(t)),0!==r&&1!==r||"correct"!==n?2===r?[2,"separatorCount"]:"incorrect"===n?[3,"digitsBeforeSeparatorValue"]:[4,"unknown error, debug"]:[5,t]}return[1,""]},ee=n(70885),te=n(15473),ne=n(17819),re=n(50904),ae=n(13967),se=(0,re.Z)((function(e){return{popover:{pointerEvents:"none"},paper:{padding:(0,ae.Z)().spacing(1),backgroundColor:"#e8e4c9"}}})),ie=function(e){var t=se(),n=(0,r.useState)(null),a=(0,ee.Z)(n,2),s=a[0],i=a[1],o=(0,r.useRef)(null),d=function(){i(null)},c=Boolean(s);return(0,Y.jsxs)("div",{className:"infoDiv",ref:o,children:[(0,Y.jsx)(ne.Z,{className:"InfoWidgetIcon",onMouseEnter:function(e){i(e.currentTarget)},onMouseLeave:d,"aria-owns":c?"mouse-over-popover":void 0,"aria-haspopup":"true"}),(0,Y.jsx)(te.ZP,{id:"mouse-over-popover",className:t.popover,classes:{paper:t.paper},open:c,anchorEl:s,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},onClose:d,disableRestoreFocus:!0,container:o.current,children:(0,Y.jsx)(l.Z,{id:e.text})})]})},oe=(0,Q.Z)((function e(){(0,U.Z)(this,e)}));oe.TestatorQuestion=(0,Y.jsx)(l.Z,{id:"Chatbot.TESTATOR_QUESTION"}),oe.UndividedEstateQuestion=(0,Y.jsx)(l.Z,{id:"Chatbot.UNDIVIDED_ESTATE_QUESTION"}),oe.YesNoWidgetOptions={widget:"optionSelectorWidget",withAvatar:!0,loading:!0,terminateLoading:!0},oe.UndividedEstateResultText=function(e){var t="true"===e?"Chatbot.Yes":"Chatbot.No";return(0,Y.jsx)(l.Z,{id:t})},oe.undvdSpouseOtherSuccessorQuestion=function(){return(0,Y.jsx)("div",{children:"How many children does the first-deceased have from other relationship(s) (s\xe6rkullsbarn)?"})},oe.testatorOtherSuccessorQuestion=function(){return(0,Y.jsx)("div",{children:"How many children does the last-deceased have from other relationship(s) (s\xe6rkullsbarn)?"})},oe.NetWealthQuestion=(0,Y.jsxs)("div",{children:[(0,Y.jsx)(l.Z,{id:"Chatbot.NET_WEALTH_QUESTION"}),(0,Y.jsx)(ie,{text:"Chatbot.NET_WEALTH_EXTRA_INFO"})]}),oe.NetWealthWarning=(0,Y.jsx)(l.Z,{id:"Chatbot.NET_WEALTH_WARNING"}),oe.UnderAgeQuestion=(0,Y.jsx)(l.Z,{id:"Chatbot.UNDER_AGE_QUESTION"}),oe.UnderAgeResultText=function(e){var t=e?"Chatbot.UnderAge":"Chatbot.NotUnderAge";return(0,Y.jsx)(l.Z,{id:t})},oe.SpouseChoiceQuestion=(0,Y.jsx)(l.Z,{id:"Chatbot.SPOUSE_EXIST_QUESTION"}),oe.SpouseQuestion=(0,Y.jsx)(l.Z,{id:"Chatbot.SPOUSE_QUESTION"}),oe.CohabitantChoiceQuestion=(0,Y.jsx)(l.Z,{id:"Chatbot.COHABITANT_EXIST_QUESTION"}),oe.CohabitantQuestion=(0,Y.jsxs)("div",{children:[(0,Y.jsx)(l.Z,{id:"Chatbot.COHABITANT_QUESTION"}),(0,Y.jsx)(ie,{text:"Chatbot.COHABITANT_EXTRA_INFO"})]}),oe.addSuccessorQuestion1=function(e){return(0,Y.jsxs)("div",{children:[(0,Y.jsx)(l.Z,{id:"Chatbot.addSuccessorQn1",values:{person_ID:(0,Y.jsx)("strong",{children:e})}}),(0,Y.jsx)(ie,{text:"Chatbot.CHILD_EXTRA_INFO"})]})},oe.addSuccessorQuestion2=function(e,t){return(0,Y.jsxs)("div",{children:[(0,Y.jsx)(l.Z,{id:"Chatbot.addSuccessorQn2",values:{person_ID:(0,Y.jsx)("strong",{children:e}),children_IDs:t}}),(0,Y.jsx)(ie,{text:"Chatbot.CHILD_EXTRA_INFO"})]})},oe.AliveQuestion=function(e){return(0,Y.jsx)(l.Z,{id:"Chatbot.ALIVE_CHILD",values:{child_ID:e}})},oe.AliveResultText=function(e){var t=e?"Chatbot.Yes":"Chatbot.No";return(0,Y.jsx)(l.Z,{id:t})},oe.addParentsQuestion1=function(e){return(0,Y.jsxs)("div",{children:[(0,Y.jsx)(l.Z,{id:"Chatbot.addParentsQn1",values:{person_ID:(0,Y.jsx)("strong",{children:e})}}),(0,Y.jsx)(ie,{text:"Chatbot.PARENT_EXTRA_INFO"})]})},oe.askSecondParentChoiceQuestion=function(e){return(0,Y.jsx)("div",{children:(0,Y.jsx)(l.Z,{id:"Chatbot.SecondParentChoice",values:{person_ID:(0,Y.jsx)("strong",{children:e})}})})},oe.addParentsQuestion2=function(e,t){return(0,Y.jsxs)("div",{children:[(0,Y.jsx)(l.Z,{id:"Chatbot.addParentsQn2",values:{person_ID:(0,Y.jsx)("strong",{children:e}),parents_IDs:t}}),(0,Y.jsx)(ie,{text:"Chatbot.PARENT_EXTRA_INFO"})]})},oe.MarriedParents1=function(e,t){return(0,Y.jsx)("div",{children:(0,Y.jsx)(l.Z,{id:"Chatbot.marriedParents1",values:{parent1_ID:(0,Y.jsx)("strong",{children:e}),parent2_ID:(0,Y.jsx)("strong",{children:t})}})})},oe.MarriedParents2=function(e,t){return(0,Y.jsx)("div",{children:(0,Y.jsx)(l.Z,{id:"Chatbot.marriedParents2",values:{parent1_ID:(0,Y.jsx)("strong",{children:e}),parent2_ID:(0,Y.jsx)("strong",{children:t})}})})},oe.addGrandParentsQuestion1=function(e){return(0,Y.jsx)("div",{children:(0,Y.jsx)(l.Z,{id:"Chatbot.addGrandParentQn1",values:{parent_id:(0,Y.jsx)("strong",{children:e})}})})},oe.addGrandParentsQuestion2=function(e,t){return(0,Y.jsx)("div",{children:(0,Y.jsx)(l.Z,{id:"Chatbot.addGrandParentQn2",values:{parent_id:(0,Y.jsx)("strong",{children:e}),grandParents_IDs:t}})})},oe.FinalQuestion=(0,Y.jsx)(l.Z,{id:"Chatbot.FINAL_QUESTION"}),oe.EmptyQuestion=(0,Y.jsx)("p",{}),oe.DefaultText=(0,Y.jsx)(l.Z,{id:"Chatbot.DEFAULT_TEXT"}),oe.TotalEstateNetValueQuestion=(0,Y.jsxs)("div",{children:[(0,Y.jsx)(l.Z,{id:"Chatbot.TOTAL_ESTATE_NET_VALUE_QUESTION"}),(0,Y.jsx)(ie,{text:"Chatbot.TOTAL_ESTATE_NET_VALUE_EXTRA_INFO"})]}),oe.TotalEstateNetValueWarning=(0,Y.jsx)(l.Z,{id:"Chatbot.NET_WEALTH_WARNING"}),oe.OwnershipTypeQuestion=(0,Y.jsx)(l.Z,{id:"Chatbot.FELLESEIE_QUESTION"}),oe.OwnershipQuestionWidgetOptions={widget:"undividedEstateWidget",withAvatar:!0,loading:!0,terminateLoading:!0},oe.OwnershipTypeWarning=(0,Y.jsx)(l.Z,{id:"Chatbot.OptionChoiceWrongWarning"}),oe.DelvisFirstQuestion=(0,Y.jsxs)("div",{children:[(0,Y.jsx)(l.Z,{id:"Chatbot.DELVIS_SAEREIE_FIRST_QUESTION"}),(0,Y.jsx)(ie,{text:"Chatbot.DELVIS_SAEREIE_FIRST_EXTRA_INFO"})]}),oe.DelvisSecondQuestion=(0,Y.jsxs)("div",{children:[(0,Y.jsx)(l.Z,{id:"Chatbot.DELVIS_SAEREIE_LAST_QUESTION"}),(0,Y.jsx)(ie,{text:"Chatbot.DELVIS_SAEREIE_LAST_EXTRA_INFO"})]}),oe.FulltSaereieQuestion=(0,Y.jsxs)("div",{children:[(0,Y.jsx)(l.Z,{id:"Chatbot.FULLT_SAEREIE_QUESTION"}),(0,Y.jsx)(ie,{text:"Chatbot.FULLT_SAEREIE_EXTRA_INFO"})]}),oe.UndividedEstateSpouseQuestion=(0,Y.jsx)("div",{children:(0,Y.jsx)(l.Z,{id:"Chatbot.UNDIVIDED_SPOUSE_QUESTION"})}),oe.TextBeforeSucsrUndvdSpouse=(0,Y.jsx)("div",{children:(0,Y.jsx)(l.Z,{id:"Chatbot.TextBeforeSucsrUndvdSpouse"})}),oe.addSuccessorCount=function(e){return(0,Y.jsx)("div",{children:(0,Y.jsx)(l.Z,{id:"Chatbot.addSuccessorCount",values:{person_ID:(0,Y.jsx)("strong",{children:e})}})})},oe.undividedChildrenTogetherCount=function(){return(0,Y.jsx)("div",{children:"How many children do they have together?"})},oe.addSuccessorOfParentCount=function(e,t){return(0,Y.jsx)("div",{children:(0,Y.jsx)(l.Z,{id:"Chatbot.addSuccessorCountExistingParent",values:{person_ID:(0,Y.jsx)("strong",{children:e}),existing_child_ID:(0,Y.jsx)("strong",{children:t})}})})};var le=oe,de=n(97176),ce=n(60136),ue=n(98557),ve=n(25089),pe=n(94736),he=n(54214),ge=(0,Q.Z)((function e(){(0,U.Z)(this,e)}));ge.DESC_COHABITANT_WITHOUT_COMMON_CHILD="Arvelater har ikke felles barn med samboer og vedkommende har ikke krav p\xe5 arv (MED MINDRE DE VENTER FELLES BARN!).",ge.DESC_NO_SPOUSE_OR_COHABITANT="Arvelater etterlater hverken ektefelle eller samboer.",ge.DESC_COHABITANT_NO_CLOSE_RELATIVES_2="Arvelaters n\xe6rmeste gjenlevende slektning er i tredje arvegangsklasse, men etterkommer av barnebarn av arvelaters besteforeldre. Hele arven g\xe5r da til gjenlevende samboer med felles barn.",ge.DESC_COHABITANT_NO_CLOSE_RELATIVES="Arvelater har ingen gjenlevende slektninger i de tre f\xf8rste arvegangsklassene. Hele arven g\xe5r da til gjenlevende samboer med felles barn.",ge.DESC_SPOUSE_NO_CLOSE_RELATIVES_2="Arvelaters n\xe6rmeste gjenlevende slektning er i andre arvegangsklasse, men etterkommer av barnebarn av arvelaters besteforeldre. Hele arven g\xe5r da til gjenlevende ektefellep.",ge.DESC_SPOUSE_NO_CLOSE_RELATIVES="Arvelater har ingen gjenlevende slektninger i de to f\xf8rste arvegangsklassene. Hele arven g\xe5r da til gjenlevende ektefelle.",ge.G=101351,ge.MINIMUM_INHERITANCE_SPOUSE_VS_CHILDREN=4*ge.G,ge.FRACTION_INHERITANCE_SPOUSE_VS_CHILDREN=1/4,ge.MINIMUM_INHERITANCE_SPOUSE_VS_PARENTS=6*ge.G,ge.FRACTION_INHERITANCE_SPOUSE_VS_PARENTS=.5,ge.MINIMUM_INHERITANCE_COHABITANT_VS_CHILDREN=4*ge.G,ge.FRACTION_INHERITANCE_COHABITANT_VS_CHILDREN=0,ge.MINIMUM_INHERITANCE_COHABITANT_VS_PARENTS=4*ge.G,ge.FRACTION_INHERITANCE_COHABITANT_VS_PARENTS=0,ge.FRACTION_PLIKTDEL=2/3,ge.LINE_MAXIMUM_PLIKTDEL=15*ge.G,ge.LAW_LINKS={4:["https://lovdata.no/dokument/NL/lov/2019-06-14-21/KAPITTEL_2-1#%C2%A74","https://lovdata.no/NL/lov/2019-06-14-21/\xa74"],5:["https://lovdata.no/dokument/NL/lov/2019-06-14-21/KAPITTEL_2-1#%C2%A75","https://lovdata.no/NL/lov/2019-06-14-21/\xa75"],6:["https://lovdata.no/dokument/NL/lov/2019-06-14-21/KAPITTEL_2-1#%C2%A76","https://lovdata.no/NL/lov/2019-06-14-21/\xa76"],7:["https://lovdata.no/dokument/NL/lov/2019-06-14-21/KAPITTEL_2-1#%C2%A77","https://lovdata.no/NL/lov/2019-06-14-21/\xa77"],8:["https://lovdata.no/dokument/NL/lov/2019-06-14-21/KAPITTEL_2-2#%C2%A78","https://lovdata.no/NL/lov/2019-06-14-21/\xa78"],9:["https://lovdata.no/dokument/NL/lov/2019-06-14-21/KAPITTEL_2-2#%C2%A79","https://lovdata.no/NL/lov/2019-06-14-21/\xa79"],10:["https://lovdata.no/dokument/NL/lov/2019-06-14-21/KAPITTEL_2-2#%C2%A710","https://lovdata.no/NL/lov/2019-06-14-21/\xa710"],12:["https://lovdata.no/dokument/NL/lov/2019-06-14-21/KAPITTEL_2-3#%C2%A712","https://lovdata.no/NL/lov/2019-06-14-21/\xa712"],50:["https://lovdata.no/dokument/NL/lov/2019-06-14-21/KAPITTEL_2-6-3#%C2%A750","https://lovdata.no/NL/lov/2019-06-14-21/\xa750"],75:["https://lovdata.no/dokument/NL/lov/2019-06-14-21/KAPITTEL_2-8#%C2%A775","https://lovdata.no/NL/lov/2019-06-14-21/\xa775"],76:["https://lovdata.no/dokument/NL/lov/2019-06-14-21/KAPITTEL_2-9#%C2%A776","https://lovdata.no/NL/lov/2019-06-14-21/\xa776"]},ge.CODE_PARAGRAPHS={"4 f\xf8rste og annet ledd":"De n\xe6rmeste slektsarvingene er arvelaterens livsarvinger.\n\nArven deles likt mellom arvelaterens barn, om ikke noe annet f\xf8lger av s\xe6rskilte lovregler. Hvis et barn er d\xf8d, g\xe5r dette barnets del av arven til barnets livsarvinger med lik andel p\xe5 hver gren. P\xe5 samme m\xe5te arver fjernere livsarvinger. Hvis et barn er d\xf8d og ikke etterlater seg livsarvinger, g\xe5r dette barnets del av arven til de andre barna eller deres livsarvinger med lik andel p\xe5 hver gren.","5 f\xf8rste, andre og tredje ledd":"Hvis arvelateren ikke har livsarvinger, g\xe5r arven til foreldrene.\n\nForeldrene arver likt. Hvis en forelder er d\xf8d, g\xe5r denne forelderens del av arven til hans eller hennes livsarvinger med lik andel p\xe5 hver gren.\n\nHvis den ene av foreldrene er d\xf8d uten \xe5 etterlate seg livsarvinger, g\xe5r hele arven til den andre forelderen eller til hans eller hennes livsarvinger med lik andel p\xe5 hver gren. D\xf8r arvelateren f\xf8r fylte 25 \xe5r, g\xe5r likevel halvparten av arven til besteforeldrene p\xe5 den d\xf8de forelderens side eller til deres livsarvinger i samsvar med \xa7 6 dersom foreldrene verken var gift eller samboende med hverandre da den f\xf8rste d\xf8de, eller det forel\xe5 omstendigheter som nevnt i \xa7 11. Er heller ingen slike arvinger i live, gjelder reglene i f\xf8rste punktum.","6 f\xf8rste og annet ledd":"Hvis arvelateren ikke har slektsarvinger som nevnt i \xa7\xa7 4 og 5, g\xe5r arven til besteforeldrene eller til livsarvinger etter dem, slik at reglene i \xa7 5 annet ledd gjelder tilsvarende. Fjernere livsarvinger etter besteforeldrene enn deres barnebarn har likevel ikke arverett etter loven.\n\nHvis en av besteforeldrene er d\xf8d, og ingen barn eller barnebarn er i live, g\xe5r arven som ellers ville ha tilkommet ham eller henne, til den andre av besteforeldrene p\xe5 samme side eller til dennes barn eller barnebarn. Hvis det ikke er arvinger p\xe5 den ene siden, g\xe5r hele arven til arvingene p\xe5 den andre siden.","6 f\xf8rste ledd, andre punktum":"Fjernere livsarvinger etter besteforeldrene enn deres barnebarn har likevel ikke arverett etter loven.",7:"Arverett etter dette kapitlet gjelder bare foreldreskap som f\xf8lger av reglene i barneloven, adopsjonsloven eller annen lov.\n\nFaren og farens slekt tar ikke arv etter barnet dersom det er unnfanget som f\xf8lge av en handling som er et brudd p\xe5 en bestemmelse i straffeloven \xa7\xa7 291, 294, 295, 296, 299, 302, 312 eller 314, og som faren er d\xf8mt for. F\xf8rste punktum gjelder ogs\xe5 hvis dommen g\xe5r ut p\xe5 at faren ikke kan straffes p\xe5 grunn av vilk\xe5rene i straffeloven \xa7 20.","8 f\xf8rste ledd":"Ektefellen har rett til en firedel av arven n\xe5r det er livsarvinger etter arvelateren, men ektefellen har uansett rett til en minstearv p\xe5 fire ganger folketrygdens grunnbel\xf8p ved arvefallet.","9 f\xf8rste ledd":"Ektefellen har rett til halvparten av arven n\xe5r arvelaterens n\xe6rmeste slektsarvinger er foreldrene eller deres etterkommere, men ektefellen har uansett rett til en minstearv p\xe5 seks ganger folketrygdens grunnbel\xf8p ved arvefallet.","9 annet ledd":"Ektefellen arver alt n\xe5r det verken er livsarvinger eller slektsarvinger som nevnt i f\xf8rste ledd etter arvelateren.","10 annet ledd":"Et bel\xf8p tilsvarende seks ganger folketrygdens grunnbel\xf8p ved arvefallet kan ikke fratas ektefellen ved testament. Etterlater arvelateren seg livsarvinger, er bel\xf8psgrensen etter f\xf8rste punktum fire ganger folketrygdens grunnbel\xf8p.","12 f\xf8rste ledd":"Den som var samboer med arvelateren ved d\xf8dsfallet og har, har hatt eller venter barn med arvelateren, har rett til en arv p\xe5 fire ganger folketrygdens grunnbel\xf8p ved arvefallet. Dette gjelder ogs\xe5 om det er livsarvinger etter arvelateren. \xa7 8 annet ledd gjelder tilsvarende","50 f\xf8rste ledd":"To tredeler av formuen etter arvelateren er pliktdelsarv for livsarvingene. Pliktdelsarven er likevel aldri st\xf8rre enn 15 ganger folketrygdens grunnbel\xf8p ved arvefallet til hvert av arvelaterens barn eller hvert barns linje.","75 f\xf8rste ledd":"Har en livsarving mottatt en ytelse av \xf8konomisk verdi fra arvelateren, skal ytelsen avkortes i livsarvingens arv hvis dette var satt som en betingelse for ytelsen. En betingelse om avkorting b\xf8r v\xe6re skriftlig og gjort kjent for de andre livsarvingene.","76 f\xf8rste ledd, f\xf8rste punktum":"Hvis den avd\xf8de ikke har arvinger etter loven eller etter testament, skal nettoformuen g\xe5 til frivillig virksomhet til fordel for barn og unge."};var fe=function(e){var t,n=new Map,r=[],a=(0,W.Z)(e);try{for(a.s();!(t=a.n()).done;){var s=t.value;if(n.has(s.person)){var i=n.get(s.person);null===i||void 0===i||i.push(s),void 0!==i&&n.set(s.person,i)}else n.set(s.person,[s])}}catch(v){a.e(v)}finally{a.f()}var o,l,d=(0,W.Z)(n.keys());try{for(d.s();!(o=d.n()).done;){var c=o.value,u=n.get(c);void 0!==u&&r.push({person:(l=u)[0].person,frac:l.reduce((function(e,t){return e+t.frac}),0),chains:l.reduce((function(e,t){return e.push(t.chains),e}),[])})}}catch(v){d.e(v)}finally{d.f()}return r},_e=function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=[];if(0===r.length)return i;var o,l=1/r.length,d=(0,W.Z)(r);try{var c=function(){var r=o.value,d=zt(r,n.personsMap),c=Yt(r,n.nodeMap);if(d._deceased)if(0===a);else if(1!==Ut(c,n)[1]){if(!s)return{v:[]};var u,v=e(t,n,c._parents),p=0,h=(0,W.Z)(v);try{for(h.s();!(u=h.n()).done;){p+=u.value.frac}}catch(k){h.e(k)}finally{h.f()}var g=[];if(1!==p){var f,_=(0,W.Z)(v);try{for(_.s();!(f=_.n()).done;){var m=f.value;g.push({person:m.person,frac:m.frac/p,chains:m.chains})}}catch(k){_.e(k)}finally{_.f()}v=g}var x,T=[],E=(0,W.Z)(v);try{for(E.s();!(x=E.n()).done;){var b=x.value;T.push({person:b.person,frac:b.frac*l,chains:b.chains.concat([d._personName])})}}catch(k){E.e(k)}finally{E.f()}i=i.concat(T)}else{var y,S=e(t,n,c._children),C=[],M=0,j=(0,W.Z)(S);try{for(j.s();!(y=j.n()).done;){var N=y.value;M+=N.frac}}catch(k){j.e(k)}finally{j.f()}1!==M&&(S.map((function(e){C.push({person:e.person,frac:e.frac/M,chains:e.chains})})),S=C);var I=[];S.map((function(e){I.push({person:e.person,frac:e.frac*l,chains:e.chains.concat(d._personName)})})),i=i.concat(I)}else i.push({person:d._personName,frac:l,chains:[]})};for(d.s();!(o=d.n()).done;){var v=c();if("object"===typeof v)return v.v}}catch(T){d.e(T)}finally{d.f()}var p,h=0,g=(0,W.Z)(i);try{for(g.s();!(p=g.n()).done;){h+=p.value.frac}}catch(T){g.e(T)}finally{g.f()}if(1!==h){var f,_=[],m=(0,W.Z)(i);try{for(m.s();!(f=m.n()).done;){var x=f.value;_.push({person:x.person,frac:x.frac/h,chains:x.chains})}}catch(T){m.e(T)}finally{m.f()}i=i.concat(_)}return u().isEqual(i,[])?[]:i},me=(0,pe.Sn)(),xe=(0,he.d)({locale:"nb-NO",messages:ve},me),Te=(0,Q.Z)((function e(t,n,r,a){var s=this,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;(0,U.Z)(this,e),this.state=void 0,this.actionProvider=void 0,this.person=void 0,this.survivor=null,this.survivor_type="",this.class_closest=void 0,this.distance_closest=void 0,this.old_surviving_reference_paragraphs="",this.surviving_reference_paragraphs=[],this.minimum_surviving_inheritance=0,this.surviving_fraction=0,this.descriptive_text="",this.survivor_inheritance_sum=0,this.genealogy_inheritance_sum=0,this.splits_with_chains=[],this.genealogy_inheritance=[],this.genealogy_splits=[],this.will=void 0,this.inheritanceType=void 0,this.netWealth=void 0,this.initializeInheritance=function(){void 0!==s.person&&(console.log("Computing inheritances"),s.initializeInheritanceVariablesCommon())},this.initializePliktInheritance=function(){console.log("Computing pliktdelsarv");var e=Ut(s.state.testator,s.state),t=(0,ee.Z)(e,2);s.class_closest=t[0],s.distance_closest=t[1],s.person.has_surviving_spouse()?(s.survivor=s.person._spouse,s.survivor_type=xe.formatMessage({id:"REPORT.Inheritance.survivorType1"}),s.surviving_reference_paragraphs.push(xe.formatMessage({id:"REPORT.Inheritance.surviving_reference_paragraphs_10annet"})),s.minimum_surviving_inheritance=ge.MINIMUM_INHERITANCE_SPOUSE_VS_CHILDREN,1===s.class_closest?s.descriptive_text=xe.formatMessage({id:"REPORT.Inheritance.DescriptiveTest_firstClass_spouse_4G"}):s.descriptive_text=xe.formatMessage({id:"REPORT.Inheritance.DescriptiveTest_firstClass_spouse_6G"})):(s.survivor=null,s.surviving_reference_paragraphs=[],s.descriptive_text=ge.DESC_NO_SPOUSE_OR_COHABITANT,s.minimum_surviving_inheritance=0)},this.initializeUndividedInheritance=function(){console.log("Computing undivided estate inheritances"),s.initializeInheritanceVariablesCommon()},this.computeMethod=function(e){switch(e){case 1:s.initializeInheritance();break;case 2:s.initializePliktInheritance();break;case 3:s.initializeUndividedInheritance();break;default:console.log("check error")}},this.initializeInheritanceVariablesCommon=function(){var e=Ut(s.state.testator,s.state),t=(0,ee.Z)(e,2);s.class_closest=t[0],s.distance_closest=t[1],s.person.has_surviving_spouse()?(s.survivor=s.person._spouse,s.survivor_type=xe.formatMessage({id:"REPORT.Inheritance.survivorType1"}),void 0===s.class_closest||s.class_closest>2?(s.old_surviving_reference_paragraphs=xe.formatMessage({id:"REPORT.Inheritance.old_surviving_reference_paragraphs_6forste"}),s.surviving_reference_paragraphs.push(xe.formatMessage({id:"REPORT.Inheritance.surviving_reference_paragraphs_9annet"})),s.minimum_surviving_inheritance=0,s.surviving_fraction=1,s.descriptive_text=xe.formatMessage({id:"REPORT.Inheritance.DESC_SPOUSE_NO_CLOSE_RELATIVES"})):1===s.class_closest?(s.old_surviving_reference_paragraphs=xe.formatMessage({id:"REPORT.Inheritance.old_surviving_reference_paragraphs_6forste"}),s.surviving_reference_paragraphs.push(xe.formatMessage({id:"REPORT.Inheritance.old_surviving_reference_paragraphs_8forste"})),s.minimum_surviving_inheritance=ge.MINIMUM_INHERITANCE_SPOUSE_VS_CHILDREN,s.surviving_fraction=ge.FRACTION_INHERITANCE_SPOUSE_VS_CHILDREN,s.descriptive_text=xe.formatMessage({id:"REPORT.Inheritance.DescriptiveText4G"})):2===s.class_closest&&(s.old_surviving_reference_paragraphs=xe.formatMessage({id:"REPORT.Inheritance.old_surviving_reference_paragraphs_6forste"}),s.surviving_reference_paragraphs.push(xe.formatMessage({id:"REPORT.Inheritance.old_surviving_reference_paragraphs_9forste"})),s.minimum_surviving_inheritance=ge.MINIMUM_INHERITANCE_SPOUSE_VS_PARENTS,s.surviving_fraction=ge.FRACTION_INHERITANCE_SPOUSE_VS_PARENTS,s.descriptive_text=xe.formatMessage({id:"REPORT.Inheritance.DescriptiveText6G"}))):s.person.has_surviving_cohabitant()?(s.survivor=s.person._cohabitant,s.survivor_type=xe.formatMessage({id:"REPORT.Inheritance.survivorType2"}),void 0===s.class_closest||s.class_closest>3?(s.old_surviving_reference_paragraphs=xe.formatMessage({id:"REPORT.Inheritance.old_surviving_reference_paragraphs_28Bforste"}),s.surviving_reference_paragraphs.push(xe.formatMessage({id:"REPORT.Inheritance.old_surviving_reference_paragraphs_12forste"})),s.minimum_surviving_inheritance=0,s.surviving_fraction=1,s.descriptive_text=xe.formatMessage({id:"REPORT.Inheritance.DESC_COHABITANT_NO_CLOSE_RELATIVES"})):1===s.class_closest?(s.old_surviving_reference_paragraphs=xe.formatMessage({id:"REPORT.Inheritance.old_surviving_reference_paragraphs_28Bforste"}),s.surviving_reference_paragraphs.push(xe.formatMessage({id:"REPORT.Inheritance.old_surviving_reference_paragraphs_12forste"})),s.minimum_surviving_inheritance=ge.MINIMUM_INHERITANCE_COHABITANT_VS_CHILDREN,s.surviving_fraction=ge.FRACTION_INHERITANCE_COHABITANT_VS_CHILDREN,s.descriptive_text=xe.formatMessage({id:"REPORT.Inheritance.DescriptiveText_firstClass_cohab_4G"})):2===s.class_closest?(s.old_surviving_reference_paragraphs=xe.formatMessage({id:"REPORT.Inheritance.old_surviving_reference_paragraphs_28Bforste"}),s.surviving_reference_paragraphs.push(xe.formatMessage({id:"REPORT.Inheritance.old_surviving_reference_paragraphs_12forste"})),s.minimum_surviving_inheritance=ge.MINIMUM_INHERITANCE_COHABITANT_VS_PARENTS,s.surviving_fraction=ge.FRACTION_INHERITANCE_COHABITANT_VS_PARENTS,s.descriptive_text=xe.formatMessage({id:"REPORT.Inheritance.DescriptiveText_secondClass_cohab_4G"})):3===s.class_closest&&(s.distance_closest&&s.distance_closest<=2?(s.old_surviving_reference_paragraphs=xe.formatMessage({id:"REPORT.Inheritance.old_surviving_reference_paragraphs_28Bforste"}),s.surviving_reference_paragraphs.push(xe.formatMessage({id:"REPORT.Inheritance.old_surviving_reference_paragraphs_12forste"})),s.minimum_surviving_inheritance=4*ge.G,s.surviving_fraction=0,s.descriptive_text=xe.formatMessage({id:"REPORT.Inheritance.DescriptiveText_thirdClass_cohab_4G"})):(s.old_surviving_reference_paragraphs=xe.formatMessage({id:"REPORT.Inheritance.old_surviving_reference_paragraphs_28Bforste"}),s.surviving_reference_paragraphs.push(xe.formatMessage({id:"REPORT.Inheritance.old_surviving_reference_paragraphs_12forste"})),s.minimum_surviving_inheritance=0,s.surviving_fraction=1,s.descriptive_text=xe.formatMessage({id:"REPORT.Inheritance.DESC_COHABITANT_NO_CLOSE_RELATIVES_2"})))):(s.survivor=null,s.surviving_reference_paragraphs=[],s.minimum_surviving_inheritance=0,s.surviving_fraction=0,s.descriptive_text=xe.formatMessage({id:"REPORT.Inheritance.DESC_NO_SPOUSE_OR_COHABITANT"}))},this.computeGenealogyInheritance=function(e,t){s.survivor_inheritance_sum=Math.min(s.state.netWealth,Math.max(s.minimum_surviving_inheritance,s.surviving_fraction*s.state.netWealth)),s.genealogy_inheritance_sum=s.state.netWealth-s.survivor_inheritance_sum,0!==s.genealogy_inheritance_sum?(s.splits_with_chains=s.compute_default_genealogy_splits_with_chains(e,s.actionProvider,t),s.genealogy_splits=fe(s.splits_with_chains),s.genealogy_splits.map((function(e){s.genealogy_inheritance.push({person:e.person,frac:e.frac*s.genealogy_inheritance_sum,chains:e.chains})}))):(s.splits_with_chains=[],s.genealogy_splits=[],s.genealogy_inheritance=[])},this.computeGenealogyPliktInheritance=function(e,t){s.survivor_inheritance_sum=Math.min(s.netWealth,s.minimum_surviving_inheritance),s.genealogy_inheritance_sum=Math.min(s.netWealth-s.survivor_inheritance_sum,s.netWealth*ge.FRACTION_PLIKTDEL,ge.LINE_MAXIMUM_PLIKTDEL*s.person._children.length),0!==s.genealogy_inheritance_sum&&(s.splits_with_chains=s.compute_default_genealogy_splits_with_chains(e,s.actionProvider,t),s.genealogy_splits=fe(s.splits_with_chains),s.genealogy_splits.map((function(e){return s.genealogy_inheritance.push({person:e.person,frac:e.frac*s.genealogy_inheritance_sum,chains:e.chains})})))},this.compute_default_genealogy_splits_with_chains=function(e,t,n){var r=Yt(e,n.nodeMap),a=zt(e,n.personsMap),s=Ut(r,n)[0];if(1===s)return _e(t,n,r._children);if(2===s){var i=Yt(r._parents[0],n.nodeMap)._spouse;return a._underAge&&i!==r._parents[1]?_e(t,n,r._parents,void 0,!0):_e(t,n,r._parents)}if(3===s){var o,l=_e(t,n,r._parents,2),d=0,c=(0,W.Z)(l);try{for(c.s();!(o=c.n()).done;){o.value&&(d+=1)}}catch(v){c.e(v)}finally{c.f()}var u=[];return l.map((function(e){u.push({person:e.person,frac:e.frac/d,chains:e.chains})})),u}return[]},this.state=r,this.actionProvider=n,this.person=Yt(t._id,this.state.nodeMap),this.will=i,this.inheritanceType=a,this.netWealth=r.netWealth})),Ee=(0,pe.Sn)(),be=((0,he.d)({locale:"nb-NO",messages:ve},Ee),function(e){(0,ce.Z)(n,e);var t=(0,ue.Z)(n);function n(e,r,a){var s,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return(0,U.Z)(this,n),(s=t.call(this,e,r,a,1,i)).state=void 0,s.actionProvider=void 0,s.person=void 0,s.will=void 0,s.state=a,s.actionProvider=r,s.person=Yt(e._id,s.state.nodeMap),s.will=i,s}return(0,Q.Z)(n)}(Te)),ye=de.StyleSheet.create({page:{backgroundColor:"white",color:"black",fontFamily:"Times-Roman",flexDirection:"column",paddingLeft:20,paddingRight:20,paddingBottom:30},section:{margin:10},header:{fontSize:12,marginBottom:20,textAlign:"center",color:"grey",fontFamily:"Times-Roman"},heading:{fontSize:24,color:"#17365D",marginBottom:10,textDecoration:"underline"},subheading:{fontSize:14,color:"#2979ff",fontFamily:"Helvetica-Bold"},paragraphHeading:{fontSize:12,color:"#365F91",fontFamily:"Helvetica-Bold"},paragraph:{fontSize:10,fontFamily:"Times-Roman",margin:10},pageNumber:{position:"absolute",fontSize:12,bottom:30,left:0,right:0,textAlign:"center",color:"grey"},boldValue:{fontFamily:"Times-Bold",fontWeight:600},italicValue:{fontFamily:"Times-Italic",fontStyle:"italic"},urlStyle:{fontFamily:"Times-Roman",color:"#1a0dab"},tableHeaderRow:{backgroundColor:"grey",borderWidth:0,fontSize:12,textAlign:"center"},tableDataRow:{backgroundColor:"white",borderWidth:0,fontSize:10,textAlign:"center"},marginTop:{marginTop:10},redText:{color:"#ff0000"},imageView:{backgroundColor:"white"},image:{backgroundColor:"white",marginTop:20}}),Se=function(e){return(0,Y.jsx)(de.Text,{style:ye.boldValue,children:e.children})},Ce=function(e){return(0,Y.jsx)(de.Text,{style:ye.italicValue,children:e.children})},Me=(n(58259),function(e){return Intl.NumberFormat("no-NO",{style:"currency",currency:"NOK",useGrouping:!0}).format(e).replace("kr","NOK").replace(",",".")}),je=function(e,t,n){var r=Ne(e,n);return(0,Y.jsxs)(de.Text,{children:["\n\n",(0,Y.jsxs)(Se,{children:["Arveloven \xa7 ",e,":"]})," ",(0,Y.jsx)(Ce,{children:t[e]}),"\n\n",(0,Y.jsx)(de.Text,{children:r})]})},Ne=function(e,t){var n=e.replace(/[^\d].*/,""),r=Ie(t[n]);return(0,Y.jsxs)(de.Text,{children:["For \xe5 lese lovteksten i kontekst hos Lovdata, g\xe5 til ",r,"."]})},Ie=function(e){return(0,Y.jsx)(de.Link,{src:e[0],children:(0,Y.jsx)(de.Text,{children:e[1]})})},ke=function(e){if(0===e.length)return null;var t=e.splice(0,1)[0];return e.map((function(e){t="".concat(t," som er stedfortreder for person med person-id ").concat(e)})),t||""},Ae=function(e){var t,n=[],r=(0,W.Z)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,s=ke(a);null!==s&&0!==s.length&&n.push(s)}}catch(l){r.e(l)}finally{r.f()}var i=n.length,o="";return 0===i?"":1===i?o=" som stedfortreder for ".concat(n[0]):(o=" som stedfortreder for ",n.map((function(e,t){e&&0===e.length?o+="".concat(t):e&&e.length===i-1?o+=" og som stedfortreder for ".concat(t):o+=", som stedfortreder for ".concat(t)})),o)},Ze=function(e){var t,n=[],r=(0,W.Z)(e.genealogy_inheritance);try{for(r.s();!(t=r.n()).done;){var a=t.value,s=Math.random().toString(36).substring(7);n.push((0,Y.jsxs)(de.Text,{children:["Person med person-id ",(0,Y.jsx)(Se,{children:a.person})," arver totalt"," ",(0,Y.jsxs)(Se,{children:[Me(a.frac)," "]}),Ae([a.chains]),".","\n"]},s))}}catch(i){r.e(i)}finally{r.f()}return n},Pe=function(e,t){if(0===e)return(0,Y.jsx)(de.Text,{style:ye.paragraph,children:"Det er ingen slektsarv igjen \xe5 fordele."});if(void 0===t.class_closest||3===t.class_closest&&t.distance_closest&&t.distance_closest>2){var n="6 f\xf8rste ledd, andre punktum",r=je(n,ge.CODE_PARAGRAPHS,ge.LAW_LINKS),a=je(n="76 f\xf8rste ledd, f\xf8rste punktum",ge.CODE_PARAGRAPHS,ge.LAW_LINKS);return(0,Y.jsxs)(de.Text,{children:[(0,Y.jsx)(de.Text,{style:ye.paragraph,children:'"Testator har ingen n\xe6re slektninger."'}),(0,Y.jsx)(de.Text,{style:ye.paragraph,children:r}),(0,Y.jsxs)(de.View,{children:[(0,Y.jsx)(de.Text,{style:ye.subheading,children:"Frivillig arbeid"}),(0,Y.jsx)(Se,{children:Me(t.genealogy_inheritance_sum)}),(0,Y.jsxs)(de.Text,{style:ye.paragraph,children:[" ","vil g\xe5 til frivillig arbeid til fordel for barn og unge."]}),(0,Y.jsx)(de.Text,{style:ye.paragraph,children:a})]})]})}return(0,Y.jsxs)(de.Text,{children:[(0,Y.jsxs)(de.Text,{style:ye.paragraph,children:["De gjenv\xe6rende"," ",(0,Y.jsx)(Se,{children:Me(e)})," ","fordeles p\xe5 slekten slik at det blir likt p\xe5 hver gren i den aktuelle arvegangsklasse. N\xe6rmeste levende slektning er i arvegangsklasse ",t.class_closest,Oe(t.class_closest,ge.CODE_PARAGRAPHS,ge.LAW_LINKS)]}),(0,Y.jsxs)(de.Text,{style:ye.paragraph,children:["\n\n",Ze(t)]})]})},Oe=function(e,t,n){var r="",a="";1===e?(r="4 f\xf8rste og annet ledd",a=" (livsarvinger/etterkommere av arvelater)."):2===e?(r="5 f\xf8rste, andre og tredje ledd",a=" (arvelaters foreldre og deres etterkommere)."):3===e?(r="6 f\xf8rste og annet ledd",a=" (arvelaters besteforeldre og deres etterkommere)."):console.log("check for error");var s=je(r,t,n);return(0,Y.jsxs)(de.View,{children:[(0,Y.jsx)(de.Text,{children:a}),(0,Y.jsx)(de.Text,{children:s})]})},Be=function(e){var t=e.genealogy_inheritance_sum,n=Pe(t,e);return(0,Y.jsx)(de.View,{children:(0,Y.jsx)(de.Text,{children:n})})},Re=function(e,t){var n=Me(e),r=je("50 f\xf8rste ledd",ge.CODE_PARAGRAPHS,ge.LAW_LINKS),a=Ze(t);return 0===t.genealogy_inheritance_sum?(0,Y.jsx)(de.Text,{style:ye.paragraph,children:"Det er ingen slektsarv igjen \xe5 fordele."}):(0,Y.jsxs)(de.Text,{style:ye.paragraph,children:[(0,Y.jsx)(Se,{children:n})," ",(0,Y.jsx)(de.Text,{style:ye.paragraph,children:"fordeles p\xe5 livsarvingene slik at det blir likt p\xe5 hver gren. (livsarvinger/etterkommere av arvelater)."}),(0,Y.jsx)(de.Text,{style:ye.paragraph,children:r}),"\n\n",(0,Y.jsx)(de.Text,{style:ye.paragraph,children:a})]})},we=function(e){var t=e.genealogy_inheritance_sum,n=Re(t,e);return(0,Y.jsx)(de.Text,{children:(0,Y.jsx)(de.Text,{children:n})})},De=function(e){if(e.inheritanceMode){var t=(0,r.useContext)(ft).inheritanceCalculation,n=Be(t);return(0,Y.jsxs)(de.View,{style:ye.section,wrap:!1,children:[(0,Y.jsx)(de.Text,{style:ye.paragraphHeading,children:"Slektsarv"}),n]})}var a=(0,r.useContext)(ft).pliktdelsarvCalculation,s=we(a);return(0,Y.jsxs)(de.View,{style:ye.section,wrap:!1,children:[(0,Y.jsx)(de.Text,{style:ye.paragraphHeading,children:"Slektsarv"}),s]})},Le=function(e){var t=zt(e.person._id,e.state.personsMap)._personName,n=Me(e.state.netWealth),r=Me(e.survivor_inheritance_sum),a=Me(e.genealogy_inheritance_sum),s=Me(e.netWealth-e.survivor_inheritance_sum-e.genealogy_inheritance_sum);return(0,Y.jsxs)(de.Text,{style:ye.paragraph,children:[(0,Y.jsx)(de.Text,{children:"Denne delen inneholder en beregning av pliktdelsarv etter arvelater med person-id"})," ",(0,Y.jsx)(de.Text,{style:ye.boldValue,children:t})," ",(0,Y.jsx)(de.Text,{style:ye.paragraph,children:"som etterlater seg en nettoarv p\xe5"})," ",(0,Y.jsx)(de.Text,{style:ye.boldValue,children:n}),".\n\n ",(0,Y.jsx)(de.Text,{style:ye.boldValue,children:r})," ",(0,Y.jsx)(de.Text,{style:ye.paragraph,children:"g\xe5r til etterlatte, mens"})," ",(0,Y.jsx)(de.Text,{style:ye.boldValue,children:a})," ",(0,Y.jsx)(de.Text,{style:ye.paragraph,children:"g\xe5r til livsarvinger. Det betyr at"})," ",(0,Y.jsx)(de.Text,{style:ye.boldValue,children:s})," ",(0,Y.jsx)(de.Text,{style:ye.paragraph,children:"fritt kan testamenteres bort."})]})},Ve=function(e){if(e.inheritanceMode){var t=function(e){return{currencyFormatted:Me(e.state.netWealth),testatorName:zt(1,e.state.personsMap)._personName}}((0,r.useContext)(ft).inheritanceCalculation);return(0,Y.jsxs)(de.View,{style:[ye.section],wrap:!1,children:[(0,Y.jsx)(de.Text,{style:[ye.heading,{textAlign:"center"}],children:"Beregning av arv"}),(0,Y.jsxs)(de.Text,{style:ye.paragraph,children:["Dette dokumentet inneholder en beregning av arv etter arvelater med person-id ",(0,Y.jsx)(Se,{children:t.testatorName}),". Boet har en total verdi p\xe5 ",(0,Y.jsx)(Se,{children:t.currencyFormatted}),"."]})]})}var n=function(e){return Le(e)}((0,r.useContext)(ft).pliktdelsarvCalculation);return(0,Y.jsx)(de.View,{wrap:!1,children:n})},He=n(60158),Fe=function(e){var t=e.summaryValue;return(0,Y.jsxs)(He.Table,{data:t,children:[(0,Y.jsxs)(He.TableHeader,{children:[(0,Y.jsx)(He.TableCell,{style:ye.tableHeaderRow,children:"Person-id"}),(0,Y.jsx)(He.TableCell,{style:ye.tableHeaderRow,children:"Type"}),(0,Y.jsx)(He.TableCell,{style:ye.tableHeaderRow,children:"Bel\xf8p"})]}),(0,Y.jsxs)(He.TableBody,{children:[(0,Y.jsx)(He.DataTableCell,{style:ye.tableDataRow,getContent:function(e){return e.survivorName}}),(0,Y.jsx)(He.DataTableCell,{style:ye.tableDataRow,getContent:function(e){return e.survivorType}}),(0,Y.jsx)(He.DataTableCell,{style:ye.tableDataRow,getContent:function(e){return e.belopAmount}})]})]})},We=function(e){var t=Ue(e),n=(0,Y.jsx)(Fe,{summaryValue:t}),r=(0,Y.jsx)(de.Text,{style:ye.paragraph,children:"Table not available"});return t.length>0?n:r},Ue=function(e){var t=[];if(null!==e.survivor){var n=zt(e.survivor,e.state.personsMap)._personName,r=Me(e.survivor_inheritance_sum);t[0]={survivorName:n,survivorType:e.survivor_type,belopAmount:r}}var a,s=(0,W.Z)(e.genealogy_inheritance);try{for(s.s();!(a=s.n()).done;){var i=a.value;if(i){var o={survivorName:i.person,survivorType:"Slekt i ".concat(e.class_closest,". arvegangsklasse"),belopAmount:Me(i.frac)};t.push(o)}}}catch(l){s.e(l)}finally{s.f()}return e.genealogy_inheritance_sum>0&&(void 0===e.class_closest||3===e.class_closest&&e.distance_closest&&e.distance_closest>2)&&(t[0]={survivorName:"-",survivorType:"Frivillig arbeid",belopAmount:Me(e.genealogy_inheritance_sum)}),t},Qe=function(e){var t=(0,r.useContext)(ft).inheritanceCalculation;if(e.inheritanceMode){var n=We(t);return(0,Y.jsxs)(de.View,{style:ye.section,wrap:!1,children:[(0,Y.jsx)(de.Text,{style:ye.paragraphHeading,children:"Sammendrag"}),(0,Y.jsx)(de.View,{style:ye.marginTop,children:n})]})}var a=(0,r.useContext)(ft).pliktdelsarvCalculation,s=We(a);return(0,Y.jsxs)(de.View,{style:ye.section,wrap:!1,children:[(0,Y.jsx)(de.Text,{style:ye.paragraphHeading,children:"Sammendrag"}),(0,Y.jsx)(de.View,{style:ye.marginTop,children:s})]})},Ke=function(e,t,n,r,a){if([ge.DESC_NO_SPOUSE_OR_COHABITANT,ge.DESC_COHABITANT_WITHOUT_COMMON_CHILD].includes(e))return(0,Y.jsx)(de.Text,{style:ye.paragraph,children:e});if([ge.DESC_SPOUSE_NO_CLOSE_RELATIVES,ge.DESC_SPOUSE_NO_CLOSE_RELATIVES_2,ge.DESC_COHABITANT_NO_CLOSE_RELATIVES,ge.DESC_COHABITANT_NO_CLOSE_RELATIVES_2].includes(e)){var s=(0,Y.jsxs)(de.Text,{style:ye.paragraph,children:[e," Den etterlatte har person-id"," ",(0,Y.jsx)(Se,{children:t}),". Arv til gjenlevende er"," ",n,"."]}),i=(0,Y.jsxs)(de.Text,{children:[e," Den etterlatte har person-id"," ",(0,Y.jsx)(Se,{children:t}),". Minstearv til gjenlevende er"," ",n,"."]});return a?s:i}var o=(0,Y.jsxs)(de.Text,{style:ye.paragraph,children:[" ",e," Den etterlatte har person-id"," ",(0,Y.jsx)(Se,{children:t}),". Arv til gjenlevende er"," ",(0,Y.jsx)(Se,{children:n}),", og de resterende"," ",(0,Y.jsx)(Se,{children:r})," g\xe5r til slekten."]}),l=(0,Y.jsxs)(de.Text,{style:ye.paragraph,children:[" ",e," Den etterlatte har person-id"," ",(0,Y.jsx)(Se,{children:t}),". Minstearv til gjenlevende er"," ",(0,Y.jsx)(Se,{children:n}),"."]});return a?o:l},Ge=function(e){var t="Fix error";e.survivor&&(t=zt(e.survivor,e.state.personsMap)._personName);var n=Me(e.survivor_inheritance_sum),r=Me(e.genealogy_inheritance_sum),a=Ke(e.descriptive_text,t,n,r,e instanceof be),s=function(e,t,n){var r=[];return e.forEach((function(e){r.push(je(e,t,n))})),r}(e.surviving_reference_paragraphs,ge.CODE_PARAGRAPHS,ge.LAW_LINKS),i=(0,Y.jsxs)(de.Text,{style:ye.paragraph,children:["OBS! Nye regler for samboer - sjekk ut","\n\n"]});return(0,Y.jsxs)(de.Text,{children:[(0,Y.jsxs)(de.Text,{style:ye.paragraphHeading,children:["Gjenlevende ektefelle eller samboer ","\n",e instanceof be?"":i]}),(0,Y.jsx)(de.Text,{style:ye.paragraph,children:a}),s.map((function(e){return(0,Y.jsx)(de.Text,{style:ye.paragraph,children:e},s.indexOf(e))}))]})},ze=function(e){if(e.inheritanceMode){var t=(0,r.useContext)(ft).inheritanceCalculation,n=Ge(t);return(0,Y.jsx)(de.View,{style:ye.section,wrap:!1,children:n})}var a=(0,r.useContext)(ft).pliktdelsarvCalculation,s=Ge(a);return(0,Y.jsx)(de.View,{style:ye.section,wrap:!1,children:s})},Ye=function(){return(0,Y.jsxs)(de.View,{style:ye.section,children:[(0,Y.jsx)(Ve,{inheritanceMode:!0}),(0,Y.jsx)(de.Text,{style:ye.subheading,children:"Beregnet arv i frav\xe6r av testament"}),(0,Y.jsx)(ze,{inheritanceMode:!0}),(0,Y.jsx)(De,{inheritanceMode:!0}),(0,Y.jsx)(Qe,{inheritanceMode:!0})]})},Xe=function(e){var t=[],n="",r="",a="";return e.survivor&&(n=zt(e.survivor,e.state.personsMap)._personName,r=e.survivor_type,a=Me(e.genealogy_inheritance_sum)),t.push({survivorName:n,survivorType:r,belopAmount:a}),e.genealogy_inheritance.map((function(n){t.push({survivorName:n.person,survivorType:"Slekt i ".concat(e.class_closest,". arvegangsklasse"),belopAmount:Me(n.frac)})})),e.genealogy_inheritance_sum>0&&(void 0===e.class_closest||3===e.class_closest&&e.distance_closest&&e.distance_closest>2)&&t.push({survivorName:"-",survivorType:"Frivillig arbeid",belopAmount:Me(e.genealogy_inheritance_sum)}),t},qe=function(){var e,t=(0,r.useContext)(ft).undividedCalculation;if(t.state.undividedEstate.undividedEstateChoice){var n=$e(t),a=Je(t);e=(0,Y.jsxs)(de.Text,{children:[(0,Y.jsx)(de.Text,{children:n}),"\n",(0,Y.jsx)(de.Text,{children:a})]})}else e=(0,Y.jsx)(de.Text,{style:ye.paragraph,children:"Ingen uskiftesituasjon"});return(0,Y.jsxs)(de.View,{style:ye.section,break:!0,children:[(0,Y.jsx)(de.Text,{style:ye.subheading,children:"Legg til introduksjon her"}),(0,Y.jsx)(de.Text,{style:ye.paragraph,children:e})]})},$e=function(e){var t=function(e){var t;if(0===e.genealogy_inheritance_sum)t=(0,Y.jsx)(de.Text,{children:"Det er ingen slektsarv igjen \xe5 fordele."});else if(void 0===e.class_closest||3===e.class_closest&&e.distance_closest&&e.distance_closest>2){var n=je("6 f\xf8rste ledd, andre punktum",ge.CODE_PARAGRAPHS,ge.LAW_LINKS),r=je("76 f\xf8rste ledd, f\xf8rste punktum",ge.CODE_PARAGRAPHS,ge.LAW_LINKS);t=(0,Y.jsxs)(de.Text,{children:[(0,Y.jsx)(de.Text,{children:"Testator har ingen n\xe6re slektninger."}),(0,Y.jsx)(de.Text,{children:n}),(0,Y.jsx)(de.Text,{style:ye.paragraphHeading,children:"Frivillig arbeid"}),(0,Y.jsxs)(de.Text,{children:[(0,Y.jsxs)(Se,{children:["$",Me(e.genealogy_inheritance_sum)]})," ",(0,Y.jsx)(de.Text,{children:"vil g\xe5 til frivillig arbeid til fordel for barn og unge."}),(0,Y.jsx)(de.Text,{children:r})]})]})}else{var a="",s="";if(1===e.class_closest)a="4 f\xf8rste og annet ledd",s=" (livsarvinger/etterkommere av arvelater).";else if(2===e.class_closest)a="5 f\xf8rste, andre og tredje ledd",s=" (arvelaters foreldre og deres etterkommere).";else{if(3!==e.class_closest)throw new Error("wrong class_closest value");a="6 f\xf8rste og annet ledd",s=" (arvelaters besteforeldre og deres etterkommere)."}var i=je(a,ge.CODE_PARAGRAPHS,ge.LAW_LINKS),o=e.genealogy_inheritance.map((function(e){de.Text,de.Text,e.person,de.Text,e.frac,de.Text,Ae([e.chains])}));t=(0,Y.jsxs)(de.Text,{children:[(0,Y.jsx)(de.Text,{children:"De gjenv\xe6rende"})," ",(0,Y.jsx)(Se,{children:Me(e.genealogy_inheritance_sum)})," ",(0,Y.jsx)(de.Text,{children:"fordeles p\xe5 slekten slik at det blir likt p\xe5 hver gren i den aktuelle arvegangsklasse."})," ",(0,Y.jsxs)(de.Text,{children:["`N\xe6rmeste levende slektning er i arvegangsklasse $",e.class_closest," $",s,"`"]}),(0,Y.jsx)(de.Text,{children:i}),(0,Y.jsx)(de.Text,{children:o})]})}return t}(e);return(0,Y.jsxs)(de.Text,{style:ye.paragraph,children:[(0,Y.jsx)(de.Text,{style:ye.paragraphHeading,children:"Slektsarv"}),"\n",(0,Y.jsx)(de.Text,{children:t})]})},Je=function(e){var t=function(e){var t=Xe(e);return(0,Y.jsx)(Fe,{summaryValue:t})}(e);return(0,Y.jsxs)(de.Text,{style:ye.paragraph,children:[(0,Y.jsx)(de.Text,{style:ye.paragraphHeading,children:"Sammendrag"}),"\n",(0,Y.jsx)(de.Text,{children:t})]})},et=function(){var e=(0,r.useContext)(ft).inheritanceCalculation,t=(0,Y.jsxs)(de.View,{style:ye.section,wrap:!1,children:[(0,Y.jsx)(de.Text,{style:ye.subheading,children:"Uskiftearv"}),(0,Y.jsx)(qe,{})]});return e.state.undividedEstate.undividedEstateChoice?t:(0,Y.jsx)(de.Text,{})},tt=function(){return(0,Y.jsxs)(de.View,{style:ye.section,children:[(0,Y.jsx)(de.Text,{style:ye.subheading,children:"Pliktdelsarv"}),(0,Y.jsx)(Ve,{inheritanceMode:!1}),(0,Y.jsx)(ze,{inheritanceMode:!1}),(0,Y.jsx)(De,{inheritanceMode:!1}),(0,Y.jsx)(Qe,{inheritanceMode:!1})]})},nt=function(){return(0,Y.jsxs)(de.Text,{style:ye.paragraph,children:[(0,Y.jsx)(de.Text,{style:ye.paragraphHeading,children:"Uskifte"}),"\n",(0,Y.jsx)(de.Text,{children:"Beregningene forutsetter at avd\xf8de ikke sitter i uskiftet bo."})]})},rt=function(){return(0,Y.jsxs)(de.Text,{style:ye.paragraph,children:[(0,Y.jsx)(de.Text,{style:ye.paragraphHeading,children:"Testament"}),"\n",(0,Y.jsx)(de.Text,{children:"Beregningene forutsetter at avd\xf8de ikke etterlater seg testament."})]})},at=function(){var e=Ne("75 f\xf8rste ledd",ge.LAW_LINKS);return(0,Y.jsxs)(de.Text,{style:ye.paragraph,children:[(0,Y.jsx)(de.Text,{style:ye.paragraphHeading,children:"Avkorting i arv"}),"\n",(0,Y.jsx)(de.Text,{children:"Bestemmelsene om avkorting i arvelovens \xa7 75 er ikke tatt hensyn til i bergningene."}),"\n",(0,Y.jsxs)(de.Text,{style:ye.redText,children:["Det er s\xe6rlig viktig \xe5 v\xe6re OBS p\xe5 mulig avkorting dersom det har blitt gitt forskudd p\xe5 arv.","\n"]}),(0,Y.jsx)(de.Text,{children:e})]})},st=function(){return(0,Y.jsxs)(de.Text,{style:ye.paragraph,children:[(0,Y.jsx)(de.Text,{style:ye.paragraphHeading,children:"Barn"}),"\n",(0,Y.jsx)(de.Text,{children:"V\xe6r obs p\xe5 de s\xe6rskilte bestemmelsene i arveloven \xa7 7."}),(0,Y.jsx)(de.Text,{children:Ne("7",ge.LAW_LINKS)})]})},it=function(){return{uskifteText:nt(),testamentText:rt(),avkortingText:at(),barnText:st()}},ot=function(){var e=it();return(0,Y.jsxs)(de.View,{style:ye.section,wrap:!1,children:[(0,Y.jsxs)(de.Text,{children:[e.uskifteText,"\n\n"]}),(0,Y.jsxs)(de.Text,{children:[e.testamentText,"\n\n"]}),(0,Y.jsxs)(de.Text,{children:[e.avkortingText,"\n\n"]}),(0,Y.jsxs)(de.Text,{children:[e.barnText,"\n\n"]})]})},lt=function(){var e=dt();return(0,Y.jsxs)(de.View,{style:ye.section,wrap:!1,children:[(0,Y.jsx)(de.Text,{style:ye.paragraphHeading,children:"Folketrygdens grunnbel\xf8p"}),(0,Y.jsx)(de.Text,{style:ye.paragraph,children:e})]})},dt=function(){return(0,Y.jsxs)(de.Text,{wrap:!1,children:[(0,Y.jsxs)(de.Text,{children:["Enkelte terskelverdier beregnes utfra det til enhver tid gjeldende grunnbel\xf8p i folketrygden. I beregningene er det forutsatt at grunnbel\xf8pet i folketrygden er p\xe5"," "]}),(0,Y.jsx)(Se,{children:Me(ge.G)}),"."]})},ct=function(){return(0,Y.jsxs)(de.View,{style:ye.section,children:[(0,Y.jsxs)(de.Text,{style:ye.subheading,children:["Generelle merknader og forbehold","\n\n"]}),(0,Y.jsx)(lt,{}),(0,Y.jsx)(ot,{})]})},ut=function(){return(0,Y.jsx)(de.Text,{style:ye.pageNumber,render:function(e){var t=e.pageNumber,n=e.totalPages;return"".concat(t," / ").concat(n)},fixed:!0})},vt=function(){return(0,Y.jsx)(de.Text,{style:ye.header,fixed:!0,children:"Arvebot"})},pt=n(36031),ht=n.n(pt),gt=function(){var e=(0,r.useState)("src/assets/images/arvebot-logo.png"),t=(0,ee.Z)(e,2),n=t[0],a=t[1],s=document.querySelector(".react-flow");return ht().toPng(s,{filter:function(e){var t,n;return!(null!==e&&void 0!==e&&null!==(t=e.classList)&&void 0!==t&&t.contains("react-flow__minimap")||null!==e&&void 0!==e&&null!==(n=e.classList)&&void 0!==n&&n.contains("react-flow__controls"))}}).then((function(e){a(e)})).catch((function(e){console.error("oops, something went wrong!",e)})),(0,Y.jsx)(de.View,{style:ye.imageView,wrap:!1,children:(0,Y.jsx)(de.Image,{style:ye.image,src:n})})},ft=(0,r.createContext)({}),_t=function(e){return(0,Y.jsx)(de.Document,{children:(0,Y.jsx)(de.Page,{size:"A4",style:ye.page,wrap:!0,children:(0,Y.jsxs)(ft.Provider,{value:{inheritanceCalculation:e.inputData.inheritanceCalculation,pliktdelsarvCalculation:e.inputData.pliktdelsarvCalculation,undividedCalculation:e.inputData.undividedCalculation},children:[(0,Y.jsx)(vt,{}),(0,Y.jsx)(Ye,{}),(0,Y.jsx)(et,{}),(0,Y.jsx)(tt,{}),(0,Y.jsx)(ct,{}),(0,Y.jsx)(gt,{}),(0,Y.jsx)(ut,{})]})})})},mt=(0,pe.Sn)(),xt=((0,he.d)({locale:"nb-NO",messages:ve},mt),function(e){(0,ce.Z)(n,e);var t=(0,ue.Z)(n);function n(e,r,a){var s,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return(0,U.Z)(this,n),(s=t.call(this,e,r,a,3,i)).state=void 0,s.actionProvider=void 0,s.person=void 0,s.state=a,s.actionProvider=r,s.person=Yt(e._id,s.state.nodeMap),s.will=i,s}return(0,Q.Z)(n)}(Te)),Tt=(0,pe.Sn)(),Et=((0,he.d)({locale:"nb-NO",messages:ve},Tt),function(e){(0,ce.Z)(n,e);var t=(0,ue.Z)(n);function n(e,r,a){var s;return(0,U.Z)(this,n),(s=t.call(this,e,r,a,2)).survivor=null,s.state=a,s.actionProvider=r,s.person=Yt(e._id,s.state.nodeMap),s}return(0,Q.Z)(n)}(Te)),bt=n(97495),yt=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,U.Z)(this,e),this._id=void 0,this._personName="",this._undividedEstateSpouse=void 0,this._deceased=!1,this._spouse=void 0,this._cohabitant=void 0,this._childrenRearing=void 0,this._underAge=void 0,this.set_spouse=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n._spouse?n._spouse=e:console.log(n._spouse==e),t&&e.set_spouse(n,!1)},this.hasSurvivingSpouse=function(){return void 0!==n._spouse&&!n._spouse._deceased},this.set_cohabitant=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n._cohabitant?n._cohabitant=e:console.log(n._cohabitant==e),t&&e.set_cohabitant(n,!1)},this._personName=t,this._id=r}return(0,Q.Z)(e,[{key:"person_id",get:function(){return this._personName},set:function(e){this._personName=e}},{key:"deceased",get:function(){return this._deceased},set:function(e){this._deceased=e}},{key:"undividedEstateSpouse",get:function(){return this._undividedEstateSpouse},set:function(e){this._undividedEstateSpouse=e}},{key:"spouse",get:function(){return this._spouse}},{key:"cohabitant",get:function(){return this._cohabitant}},{key:"has_surviving_cohabitant",value:function(){return!(!this._cohabitant||this._cohabitant._deceased)}}]),e}();yt.getPerson=function(e,t){var n=t.get(e);if(void 0==n)throw new Error("Person not found with given id:"+e);return n};var St=n(98144),Ct=n(42982),Mt=function(e,t){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)||t.temp_person,s=a._children,i=e._id;return s.includes(i)||s.push(i),r?e._partnerPath=[].concat((0,Ct.Z)(a._path),[[St.h.child,i]]):(e._path=[].concat((0,Ct.Z)(a._path),[[St.h.child,i]]),e._level=a.getLevel(e._path)),n&&!e._parents.includes(a._id)&&e._parents.push(a._id),t},jt=function(e,t,n){var r=parseInt(e);if(t.temp_person._childCount=r,0===r){var a=function(e){var t=e.nodeMap,n=e.temp_person;if(n._path.length-2<0)return null;var r=n._path[n._path.length-2][1],a=bt.K.getNode(r,t);return n._children.includes(n._path[n._path.length-2][1])||a._undividedEstateSpouse===n._id?null:n._path[n._path.length-2][1]}(t);if(a){var s=Yt(a,t.nodeMap);t.temp_person=s;var i=t.successorProcessArray;t=It(t,i,n)}else t=Lt(t,n);return t}for(var o=0===t.temp_person._children.length,l=t.id,d=0;d<t.temp_person._childCount;d++){var c=Kt(t,l++);if(null!==(t=Mt(c,t)).temp_person._partnerNode){var u=Yt(t.temp_person._partnerNode,t.nodeMap);t=Mt(c,t,u,!0,!0),u._processChildNodePos++}}t.id=l,0===t.successorProcessArray.filter((function(e){return e[0]===t.temp_person._level})).length&&t.successorProcessArray.push([t.temp_person._level,1]),t.successor_flag=V.ce.part1;var v=zt(t.temp_person._id,t.personsMap)._personName;if(o){var p=n.createChatBotMessage(le.addSuccessorQuestion1(v));t=n.addMessageToBotState(p,t)}else{var h=qt(t.temp_person._children,t),g=n.createChatBotMessage(le.addSuccessorQuestion2(v,h));t=n.addMessageToBotState(g,t)}return t},Nt=function(e,t,n){console.log(t);var r=function(e){if(e._processChildNodePos<e._children.length)return e._children[e._processChildNodePos++]}(t.temp_person);if(r){var a,s=Yt(r,t.nodeMap);zt(r,t.personsMap)._personName=e,t=(0,i.Z)((0,i.Z)({},t),{},{successor_flag:V.ce.part2,temp_child:s});var o=null===(a=yt.getPerson(s._id,t.personsMap))||void 0===a?void 0:a._personName,l=n.createChatBotMessage(le.AliveQuestion(o),le.YesNoWidgetOptions);t=n.addMessageToBotState(l,t)}else console.error("Count of children exceeded");return t},It=function(e,t,n){var r=t[t.length-1][1];if(!r)throw new Error("childItrPos is null");if(e.temp_person._childCount>r){t[t.length-1][1]=r+1,e=(0,i.Z)((0,i.Z)({},e),{},{successor_flag:V.ce.part1});var a=qt(e.temp_person._children,e),s=n.createChatBotMessage(le.addSuccessorQuestion2(zt(e.temp_person._id,e.personsMap)._personName,a));e=n.addMessageToBotState(s,e)}else{if(e.temp_person._childCount!==r)throw new Error("state.temp_person._childCount < childItrPos case");for(var o=e.temp_person._id,l=bt.K.getNode(o,e.nodeMap),d=!0;t[t.length-1][1]===l._childCount;){t.pop();var c=l.getParentId(e.nodeMap);if(!c){d=!1;break}o=c,l=bt.K.getNode(o,e.nodeMap)}if(!d)return e=Lt(e,n);t[t.length-1][1]=t[t.length-1][1]+1,e.temp_person=l;var u=zt(o,e.personsMap);e.successor_flag=V.ce.part1;var v=qt(l._children,e),p=n.createChatBotMessage(le.addSuccessorQuestion2(u._personName,v));e=n.addMessageToBotState(p,e)}return e},kt=function(e,t,n){var r=t.temp_child,a=zt(r._id,t.personsMap),s=t.successorProcessArray;if(e)a._deceased=!1,t=It(t,s,n),t=(0,i.Z)({},t);else{if(a._deceased=!0,t.stepID===V.M8.grandParentStep)if(2===r.getGenerationCount())return t=It(t,s,n);t=(0,i.Z)((0,i.Z)({},t),{},{successor_flag:V.ce.part3,temp_person:r});var o=n.createChatBotMessage(le.addSuccessorCount(a._personName));t=n.addMessageToBotState(o,t)}return t},At=function(e,t,n){if(e){var r=t.temp_person;t=(0,i.Z)((0,i.Z)({},t),{},{parent_flag:V.ce.part1});var a=qt(r._parents,t),s=zt(r._id,t.personsMap),o=n.createChatBotMessage(le.addParentsQuestion2(s._personName,a));t=n.addMessageToBotState(o,t)}else t=Lt(t,n,!1);return t},Zt=function(e,t,n){var r=Qt(e,t,n);(t=(0,i.Z)((0,i.Z)({},t),{},{parent_flag:V.ce.part2,temp_parent:r})).temp_person;t=function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=e._id,s=!1,i=t.temp_person,o=(0,W.Z)(i._parents);try{for(o.s();!(n=o.n()).done;)if(n.value===a){s=!0;break}}catch(l){o.e(l)}finally{o.f()}return s||i._parents.push(a),e._path=(0,Ct.Z)(i._path),e._path.push([St.h.parent,a]),e._level=i.getLevel(e._path),2===e._level&&(e._path[e._path.length-1][0]=St.h.grandParent),r&&(e._children.find((function(e){return e===i._id}))||e._children.push(i._id)),t}(r,t,!0),t=(0,i.Z)({},t);var a=n.createChatBotMessage(le.AliveQuestion(yt.getPerson(r._id,t.personsMap)._personName),le.YesNoWidgetOptions);return t=n.addMessageToBotState(a,t)},Pt=function(e,t,n){var r=t.temp_parent,a=yt.getPerson(r._id,t.personsMap);if(e)a._deceased=!1,t=Lt(t,n);else{a._deceased=!0,t=(0,i.Z)((0,i.Z)({},t),{},{temp_person:r,successor_flag:V.ce.part3}),r._processChildNodePos+=1;var s=qt(r._children,t),o=n.createChatBotMessage(le.addSuccessorOfParentCount(a._personName,s));t=n.addMessageToBotState(o,t)}return t},Ot=function(e,t,n){return e?(n.set_spouse(t.person._parents[0],t.person._parents[1],!0,t),t=Xt(t,n)):t=Xt(t,n),t},Bt=function(e,t,n){if(e){t=(0,i.Z)((0,i.Z)({},t),{},{stepID:V.M8.undividedEstateStep,undividedEstate:(0,i.Z)((0,i.Z)({},t.undividedEstate),{},{undivided_flag:V.ce.part1,undividedEstateChoice:e})});var r=n.createChatBotMessage(le.TotalEstateNetValueQuestion);t=n.addMessageToBotState(r,t)}else{t=(0,i.Z)((0,i.Z)({},t),{},{stepID:V.M8.netWealthStep,undividedEstate:(0,i.Z)((0,i.Z)({},t.undividedEstate),{},{undivided_flag:"none",undividedEstateChoice:e})});var a=n.createChatBotMessage(le.NetWealthQuestion);t=n.addMessageToBotState(a,t)}return t},Rt=function(e,t,n){if(function(e,t,n){n.messages.pop();var a=t.createClientMessage(r.createElement("div",null,e));n=t.addMessageToBotState(a,n)}(e,n,t),"FELLESEIE"===e.toUpperCase()||"1"===e)if((t=(0,i.Z)((0,i.Z)({},t),{},{undividedEstate:(0,i.Z)((0,i.Z)({},t.undividedEstate),{},{undivided_flag:V.ce.part6,undividedEstateSeparateWealth:t.undividedEstate.totalEstateValue/2,ownershipType:V.cq.felleseie}),netWealth:t.undividedEstate.totalEstateValue/2})).undividedEstate.undividedEstateSeparateWealth>0){var a=n.createChatBotMessage(le.UndividedEstateSpouseQuestion);t=n.addMessageToBotState(a,t)}else{if(t.person!==t.testator&&t.person._undividedEstateSpouse)if(void 0===Ut(Yt(t.person._undividedEstateSpouse,t.nodeMap),t)[0]&&(t.netWealth=t.netWealth+t.undividedEstate.undividedEstateSeparateWealth,t.undividedEstate.undividedEstateSeparateWealth=0),t.netWealth<=0)t=Xt(t,n);else{t=(0,i.Z)((0,i.Z)({},t),{},{stepID:V.M8.underAgeStep});var s=n.createChatBotMessage(le.UnderAgeQuestion,le.YesNoWidgetOptions);t=n.addMessageToBotState(s,t)}}else if("DELVIS S\xc6REIE"===e.toUpperCase()||"2"===e){t=(0,i.Z)((0,i.Z)({},t),{},{undividedEstate:(0,i.Z)((0,i.Z)({},t.undividedEstate),{},{undivided_flag:V.ce.part3})});var o=n.createChatBotMessage(le.DelvisFirstQuestion);t=n.addMessageToBotState(o,t)}else if("FULLT S\xc6REIE"===e.toUpperCase()||"3"===e){t=(0,i.Z)((0,i.Z)({},t),{},{undividedEstate:(0,i.Z)((0,i.Z)({},t.undividedEstate),{},{undivided_flag:V.ce.part5})});var l=n.createChatBotMessage(le.FulltSaereieQuestion);t=n.addMessageToBotState(l,t)}else{var d=n.createChatBotMessage(le.OwnershipTypeWarning),c=n.createChatBotMessage(le.OwnershipTypeQuestion,le.OwnershipQuestionWidgetOptions);t=n.addMessageToBotState(d,t),t=n.addMessageToBotState(c,t)}return t},wt=function(e,t){(e=(0,i.Z)((0,i.Z)({},e),{},{stepID:V.M8.testatorOtherChildStep})).successor_flag=V.ce.part3,e.person=e.testator,e.temp_person=e.testator;var n=t.createChatBotMessage(le.testatorOtherSuccessorQuestion());return e=t.addMessageToBotState(n,e)},Dt=function(e,t){var n=new be(e.person,t,e);n.computeMethod(1),n.computeGenealogyInheritance(e.testator._id,e);var r=new xt(e.person,t,e);r.computeMethod(2),r.computeGenealogyPliktInheritance(e.testator._id,e);var a=new Et(e.person,t,e);return a.computeMethod(3),(0,Y.jsx)(_t,{inputData:{inheritanceCalculation:n,pliktdelsarvCalculation:r,undividedCalculation:a}})},Lt=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];switch(e.stepID){case V.M8.successorStep:e=Vt(e,t);break;case V.M8.parentsStep:e.temp_person=e.person,e=Ht(n,e,t);break;case V.M8.undividedEstateStep:e.temp_person=e.person,e=function(e,t,n){var r=e.person,a=yt.getPerson(r._id,e.personsMap);if(e.undividedEstate.undivided_flag===V.ce.part6){e.undividedEstate.undivided_flag=V.ce.part7,e.person._partnerNode=null,e.successor_flag=V.ce.part3;var s=t.createChatBotMessage(le.undvdSpouseOtherSuccessorQuestion());e=t.addMessageToBotState(s,e)}else if(e.undividedEstate.undivided_flag===V.ce.part7)if(1!==Ut(Yt(e.person._id,e.nodeMap),e)[0]){e.undividedEstate.undivided_flag=V.ce.part8,e.parent_flag=V.ce.part1,e.temp_person=e.person;var i=t.createChatBotMessage(le.addParentsQuestion1(a._personName));e=t.addMessageToBotState(i,e)}else e=wt(e,t);else{if(n&&e.temp_person._parents.length<2){e.successor_flag=V.ce.initialQuestion,e.parent_flag=V.ce.part3;var o=zt(e.temp_person._id,e.personsMap)._personName,l=t.createChatBotMessage(le.askSecondParentChoiceQuestion("".concat(o)),le.YesNoWidgetOptions);return t.addMessageToBotState(l,e)}if(e.testator._undividedEstateSpouse){if(void 0===Ut(Yt(e.testator._undividedEstateSpouse,e.nodeMap),e)[0]&&(e.netWealth=e.netWealth+e.undividedEstate.undividedEstateSeparateWealth,e.undividedEstate.undividedEstateSeparateWealth=0),e.netWealth<=0)return Xt(e,t);e=wt(e,t)}}return e}(e,t,n);break;case V.M8.grandParentStep:e.temp_person=Yt(e.deceasedParentsArray[0],e.nodeMap),e=Ft(n,e,t);break;case V.M8.testatorOtherChildStep:e=tn(e,t);break;default:console.log("Error in handleClosingStep()")}return e},Vt=function(e,t){var n=e.person,r=yt.getPerson(n._id,e.personsMap),a=Ut(e.testator,e)[0];if(e.person!==e.testator&&e.testator._undividedEstateSpouse&&(!a||1===a)){e=(0,i.Z)((0,i.Z)({},e),{},{parent_flag:V.ce.part1,successor_flag:V.ce.initialQuestion,isUndividedParent:!0});var s=t.createChatBotMessage(le.addParentsQuestion1(r._personName));return e=t.addMessageToBotState(s,e)}if(1===a)return e=(0,i.Z)((0,i.Z)({},e),{},{stepID:V.M8.rearChildrenStep}),e=Xt(e,t);if(null!==n._spouse&&e.netWealth<=ge.MINIMUM_INHERITANCE_SPOUSE_VS_PARENTS)return e=Xt(e,t);if(null!==n._cohabitant&&e.netWealth<=ge.MINIMUM_INHERITANCE_COHABITANT_VS_PARENTS)return e=Xt(e,t);e=(0,i.Z)((0,i.Z)({},e),{},{stepID:V.M8.parentsStep,parent_flag:V.ce.part1,temp_person:e.testator,successor_flag:V.ce.initialQuestion});var o=t.createChatBotMessage(le.addParentsQuestion1(r._personName));return e=t.addMessageToBotState(o,e)},Ht=function(e,t,n){if(e&&t.temp_person._parents.length<2){t.successor_flag=V.ce.initialQuestion,t.parent_flag=V.ce.part3;var r=zt(t.temp_person._id,t.personsMap)._personName,a=n.createChatBotMessage(le.askSecondParentChoiceQuestion("".concat(r)),le.YesNoWidgetOptions);return t=n.addMessageToBotState(a,t)}if(null!==t.person._spouse)return t=Xt(t,n);var s=Ut(t.person,t)[0],o=0!==t.person._parents.filter((function(e){return yt.getPerson(e,t.personsMap)._deceased})).length,l=yt.getPerson(t.person._id,t.personsMap);if(2===t.person._parents.length&&o&&2===s){var d=yt.getPerson(t.person._parents[0],t.personsMap),c=yt.getPerson(t.person._parents[1],t.personsMap);if(!l._underAge)return t=Xt(t,n);if(2!==t.person._parents.length)return t=Xt(t,n);if(d._deceased){t=(0,i.Z)((0,i.Z)({},t),{},{stepID:V.M8.marriedParentsStep});var u=n.createChatBotMessage(le.MarriedParents1(d._personName,c._personName));return t=n.addMessageToBotState(u,t)}t=(0,i.Z)((0,i.Z)({},t),{},{stepID:V.M8.marriedParentsStep});var v=n.createChatBotMessage(le.MarriedParents2(d._personName,c._personName));return t=n.addMessageToBotState(v,t)}return t=function(e,t){var n=bt.K.getNode(e.person._id,e.nodeMap);e.deceasedParentsArray||(e.deceasedParentsArray=[]);var r,a=(0,W.Z)(n._parents);try{for(a.s();!(r=a.n()).done;){var s=r.value;yt.getPerson(s,e.personsMap)._deceased&&1!==Ut(bt.K.getNode(s,e.nodeMap),e)[0]&&(e.deceasedParentsArray.includes(s)||e.deceasedParentsArray.push(s))}}catch(c){a.e(c)}finally{a.f()}if(0!==e.deceasedParentsArray.length){var o=Yt(e.deceasedParentsArray[0],e.nodeMap),l=zt(e.deceasedParentsArray[0],e.personsMap);e=(0,i.Z)((0,i.Z)({},e),{},{stepID:V.M8.grandParentStep,parent_flag:V.ce.part1,temp_person:o,successor_flag:V.ce.initialQuestion});var d=t.createChatBotMessage(le.addParentsQuestion1(l._personName));e=t.addMessageToBotState(d,e)}else console.log("check situation if it arrives here"),e=Xt(e,t);return e}(t,n),t},Ft=function(e,t,n){if(e&&t.temp_person._parents.length<2){t.successor_flag=V.ce.initialQuestion,t.parent_flag=V.ce.part3;var r=zt(t.temp_person._id,t.personsMap),a=n.createChatBotMessage(le.askSecondParentChoiceQuestion("".concat(r._personName)),le.YesNoWidgetOptions);return t=n.addMessageToBotState(a,t)}return t.deceasedParentsArray=t.deceasedParentsArray.filter((function(e){return e!==t.deceasedParentsArray[0]})),t=function(e,t){if(0!==e.deceasedParentsArray.length){var n=Yt(e.deceasedParentsArray[0],e.nodeMap),r=zt(e.deceasedParentsArray[0],e.personsMap);e=(0,i.Z)((0,i.Z)({},e),{},{stepID:V.M8.grandParentStep,parent_flag:V.ce.part1,temp_person:n,successor_flag:V.ce.initialQuestion});var a=t.createChatBotMessage(le.addParentsQuestion1(r._personName));e=t.addMessageToBotState(a,e)}else e=Xt(e,t);return e}(t,n),t},Wt=function e(t,n){if(!1===yt.getPerson(t._id,n.personsMap)._deceased)return 0;if(0!==t._children.length){var r,a=[],s=(0,W.Z)(t._children);try{for(s.s();!(r=s.n()).done;){var i=r.value,o=e(bt.K.getNode(i,n.nodeMap),n);void 0!=o&&a.push(1+o)}}catch(l){s.e(l)}finally{s.f()}return 0===a.length?void 0:Math.min.apply(Math,a)}},Ut=function e(t,n){var r=Wt(t,n);if(void 0!==r)return[1,r];if(0==t._parents.length)return[void 0,void 0];var a,s=[],i=(0,W.Z)(t._parents);try{for(i.s();!(a=i.n()).done;){var o=a.value;s.push(e(bt.K.getNode(o,n.nodeMap),n))}}catch(u){i.e(u)}finally{i.f()}s.sort((function(e,t){return void 0!=e[0]&&void 0!=t[0]?e[0]-t[0]:void 0==e[0]&&void 0!=t[0]?1:-1}));var l=(0,ee.Z)(s[0],2),d=l[0],c=l[1];return void 0==d?[void 0,void 0]:[d+1,c]},Qt=function(e,t,n){var r=new yt(e,n.generateNextID(t.id));t.personsMap.set(r._id,r);var a=new bt.K(r._id,0);return t.nodeMap.set(a._id,a),a},Kt=function(e,t){var n=new yt("",t);e.personsMap.set(n._id,n);var r=new bt.K(n._id,0);return e.nodeMap.set(r._id,r),r},Gt=function(e,t,n){var r=new yt(e,n.generateNextID(t.id));r._deceased=!0,t.personsMap.set(r._id,r);var a=new bt.K(r._id,0);return a._path.push([St.h.testator,r._id]),t.nodeMap.set(a._id,a),a},zt=function(e,t){var n=t.get(e);if(void 0==n)throw new Error("Person not found with given id:"+e);return n},Yt=function(e,t){var n=t.get(e);if(void 0==n)throw new Error("Node not found with given id:"+e);return n},Xt=function(e,t){return e=function(e,t){var n=Dt(e,t),r=(0,Y.jsx)(de.PDFDownloadLink,{document:n,fileName:zt(e.testator._id,e.personsMap)._personName,children:function(e){e.blob,e.url;var t=e.loading,n=e.error;return t?"Loading document...":n?"Error! Try again or contact us explaining your problem.":"Download Report!"}}),a=(0,s.createCustomMessage)("","custom",{payload:r});return e=t.addMessageToBotState(a,e),$t(e.stepID),e}(e=(0,i.Z)((0,i.Z)({},e),{},{stepID:V.M8.finalStep}),t),e},qt=function(e,t){return(0,Y.jsx)("strong",{children:"{{ ".concat(e.map((function(e){return yt.getPerson(e,t.personsMap)._personName})).filter((function(e){return""!==e})).join(", ")," }}")})},$t=function(e){if(e===V.M8.finalStep){var t=document.getElementsByClassName("react-chatbot-kit-chat-input")[0],n=document.getElementsByClassName("react-chatbot-kit-chat-btn-send")[0];t.setAttribute("disabled","true"),n.setAttribute("disabled","true");var r=document.getElementById("chatbot-undo-button");r&&(r.style.display="none")}},Jt=function(e){if(e!==V.M8.finalStep){var t=document.getElementsByClassName("react-chatbot-kit-chat-input")[0],n=document.getElementsByClassName("react-chatbot-kit-chat-btn-send")[0];t.removeAttribute("disabled"),n.removeAttribute("disabled")}},en=function(e,t,n){if(t=(0,i.Z)((0,i.Z)({},t),{},{person:t.testator,temp_person:t.testator}),zt(t.person._id,t.personsMap)._underAge=e,e){var r=n.createChatBotMessage(le.CohabitantChoiceQuestion,le.YesNoWidgetOptions);return t=(0,i.Z)((0,i.Z)({},t),{},{stepID:V.M8.cohabitantChoice}),t=n.addMessageToBotState(r,t)}var a=n.createChatBotMessage(le.SpouseChoiceQuestion,le.YesNoWidgetOptions);return t=(0,i.Z)((0,i.Z)({},t),{},{stepID:V.M8.spouseChoice}),t=n.addMessageToBotState(a,t)},tn=function(e,t){e=(0,i.Z)((0,i.Z)({},e),{},{stepID:V.M8.underAgeStep});var n=t.createChatBotMessage(le.UnderAgeQuestion,le.YesNoWidgetOptions);return e=t.addMessageToBotState(n,e)},nn=function(e,t,n){if(e){t=(0,i.Z)((0,i.Z)({},t),{},{stepID:V.M8.spouseStep});var r=n.createChatBotMessage(le.SpouseQuestion);t=n.addMessageToBotState(r,t)}else{var a=yt.getPerson(t.person._id,t.personsMap);if(a._underAge||void 0!==a.spouse){t=(0,i.Z)((0,i.Z)({},t),{},{stepID:V.M8.successorStep,successor_flag:V.ce.part3});var s=n.createChatBotMessage(le.addSuccessorCount(a._personName));t=n.addMessageToBotState(s,t)}else{t=(0,i.Z)((0,i.Z)({},t),{},{stepID:V.M8.cohabitantChoice});var o=n.createChatBotMessage(le.CohabitantChoiceQuestion,le.YesNoWidgetOptions);t=n.addMessageToBotState(o,t)}}return t},rn=function(e,t,n){if(e){t=(0,i.Z)((0,i.Z)({},t),{},{stepID:V.M8.cohabitantStep});var r=n.createChatBotMessage(le.CohabitantQuestion);t=n.addMessageToBotState(r,t)}else{t=(0,i.Z)((0,i.Z)({},t),{},{stepID:V.M8.successorStep,successor_flag:V.ce.part3});var a=yt.getPerson(t.person._id,t.personsMap),s=n.createChatBotMessage(le.addSuccessorCount(a._personName));t=n.addMessageToBotState(s,t)}return t},an=function(e,t,n){var r=new K(n,t);if(t.stepID===V.M8.initalStep){if(r.validate(e,[H.emptyValue]))return function(e,t,n){var r=n.createChatBotMessage(le.UndividedEstateQuestion,le.YesNoWidgetOptions);return t=(0,i.Z)((0,i.Z)({},t),{},{stepID:V.M8.testatorStep,testator:Gt(e,t,n)}),n.addMessageToBotState(r,t)}(e,t,n)}else if(t.stepID===V.M8.testatorStep){if(e=e.toLowerCase(),r.validate(e,[H.incorrectValueForBoolean]))return dn(e,t,n,Bt)}else if(t.stepID===V.M8.undividedEstateStep){if(t.undividedEstate.undivided_flag===V.ce.part1&&r.validate(e,[H.invalidAmount]))return function(e,t,n){var r=n.createChatBotMessage(le.TotalEstateNetValueQuestion),a=J(e),s=$(a[1]),o=(0,Y.jsx)("div",{children:s});if(5===a[0]){var l=n.createChatBotMessage(le.OwnershipTypeQuestion,le.OwnershipQuestionWidgetOptions);(t=(0,i.Z)((0,i.Z)({},t),{},{undividedEstate:(0,i.Z)((0,i.Z)({},t.undividedEstate),{},{undivided_flag:V.ce.part2,totalEstateValue:parseInt(a[1])})})).messages.pop();var d=n.createClientMessage(o);t=n.addMessageToBotState(d,t),t=n.addMessageToBotState(l,t)}else{var c=n.createChatBotMessage(le.TotalEstateNetValueWarning);t=n.addMessageToBotState(c,t),t=n.addMessageToBotState(r,t)}return t}(e,t,n);if(t.undividedEstate.undivided_flag===V.ce.part2&&r.validate(e,[H.incorrectValueForUndividedOptions]))return Rt(e,t,n);if(t.undividedEstate.undivided_flag===V.ce.part3&&r.validate(e,[H.invalidAmount]))return function(e,t,n){var r=J(e),a=$(r[1]),s=(0,Y.jsx)("div",{children:a});if(5===r[0]){t.messages.pop();var o=n.createClientMessage(s);t=n.addMessageToBotState(o,t),t=(0,i.Z)((0,i.Z)({},t),{},{undividedEstate:(0,i.Z)((0,i.Z)({},t.undividedEstate),{},{undivided_flag:V.ce.part4,temp_first:parseInt(r[1])})});var l=n.createChatBotMessage(le.DelvisSecondQuestion);t=n.addMessageToBotState(l,t)}else{var d=n.createChatBotMessage(le.NetWealthWarning),c=n.createChatBotMessage(le.DelvisFirstQuestion);t=n.addMessageToBotState(d,t),t=n.addMessageToBotState(c,t)}return t}(e,t,n);if(t.undividedEstate.undivided_flag===V.ce.part4&&r.validate(e,[H.invalidAmount]))return function(e,t,n){var r=J(e),a=$(r[1]),s=(0,Y.jsx)("div",{children:a});if(5===r[0]){t.messages.pop();var o=n.createClientMessage(s);(t=n.addMessageToBotState(o,t)).undividedEstate.temp_last=parseInt(r[1]),t=(0,i.Z)((0,i.Z)({},t),{},{undividedEstate:(0,i.Z)((0,i.Z)({},t.undividedEstate),{},{undivided_flag:V.ce.part6,undividedEstateSeparateWealth:(t.undividedEstate.totalEstateValue-t.undividedEstate.temp_last-t.undividedEstate.temp_first)/2+t.undividedEstate.temp_first}),netWealth:(t.undividedEstate.totalEstateValue-t.undividedEstate.temp_last-t.undividedEstate.temp_first)/2+t.undividedEstate.temp_last});var l=n.createChatBotMessage(le.UndividedEstateSpouseQuestion);t=n.addMessageToBotState(l,t)}else{var d=n.createChatBotMessage(le.NetWealthWarning),c=n.createChatBotMessage(le.DelvisSecondQuestion);t=n.addMessageToBotState(d,t),t=n.addMessageToBotState(c,t)}return t}(e,t,n);if(t.undividedEstate.undivided_flag===V.ce.part5&&r.validate(e,[H.invalidAmount]))return function(e,t,n){var r=J(e),a=$(r[1]),s=(0,Y.jsx)("div",{children:a});if(5===r[0]){t.messages.pop();var o=n.createClientMessage(s);if(t=n.addMessageToBotState(o,t),(t=(0,i.Z)((0,i.Z)({},t),{},{undividedEstate:(0,i.Z)((0,i.Z)({},t.undividedEstate),{},{undivided_flag:V.ce.part6,undividedEstateSeparateWealth:t.undividedEstate.totalEstateValue-parseInt(e)}),netWealth:parseInt(e)})).undividedEstate.undividedEstateSeparateWealth>0){var l=n.createChatBotMessage(le.UndividedEstateSpouseQuestion);t=n.addMessageToBotState(l,t)}}else{var d=n.createChatBotMessage(le.NetWealthWarning),c=n.createChatBotMessage(le.FulltSaereieQuestion);t=n.addMessageToBotState(d,t),t=n.addMessageToBotState(c,t)}return t}(e,t,n);if(t.undividedEstate.undivided_flag===V.ce.part6||t.undividedEstate.undivided_flag===V.ce.part7)return sn(e,t,n,r);if(t.undividedEstate.undivided_flag===V.ce.part8&&t.parent_flag===V.ce.part1){if(r.validate(e,[H.emptyValue]))return Zt(e,t,n);if(t.parent_flag==V.ce.part2){if(e=e.toLowerCase(),r.validate(e,[H.incorrectValueForBoolean]))return dn(e,t,n,Pt)}else if(t.parent_flag===V.ce.part3&&r.validate(e,[H.incorrectValueForBoolean]))return dn(e,t,n,At)}}else{if(t.stepID===V.M8.testatorOtherChildStep)return sn(e,t,n,r);if(t.stepID===V.M8.netWealthStep){if(r.validate(e,[H.emptyValue,H.invalidAmount]))return function(e,t,n){var r=n.createChatBotMessage(le.NetWealthQuestion,{withAvatar:!0}),a=J(e),s=$(a[1]),o=(0,Y.jsx)("div",{children:s});if(5===a[0]){var l=n.createChatBotMessage(le.UnderAgeQuestion,le.YesNoWidgetOptions);t.messages.pop();var d=n.createClientMessage(o);t=n.addMessageToBotState(d,t),(t=(0,i.Z)((0,i.Z)({},t),{},{stepID:V.M8.underAgeStep,netWealth:parseInt(a[1])})).netWealth<=0&&(t=Xt(t,n)),t=n.addMessageToBotState(l,t)}else{var c=n.createChatBotMessage(le.NetWealthWarning);t=n.addMessageToBotState(c,t),t=n.addMessageToBotState(r,t)}return t}(e,t,n)}else if(t.stepID===V.M8.underAgeStep){if(e=e.toLowerCase(),r.validate(e,[H.incorrectValueForBoolean]))return dn(e,t,n,en)}else if(t.stepID===V.M8.spouseChoice){if(e=e.toLowerCase(),r.validate(e,[H.incorrectValueForBoolean]))return dn(e,t,n,nn)}else if(t.stepID===V.M8.spouseStep){if(r.validate(e,[H.emptyValue]))return function(e,t,n){var r=yt.getPerson(t.person._id,t.personsMap),a=Qt(e,t,n);if(t.person=Object.assign(t.person,{_spouse:a._id}),t.person.setPathforPartner(St.h.spouse,a),t.netWealth<=ge.MINIMUM_INHERITANCE_SPOUSE_VS_CHILDREN)return t=(0,i.Z)((0,i.Z)({},t),{},{stepID:V.M8.rearChildrenStep}),Xt(t,n);(t=(0,i.Z)((0,i.Z)({},t),{},{stepID:V.M8.successorStep,successor_flag:V.ce.part3})).testator=Object.assign(t.testator,{_partnerNode:a._id});var s=n.createChatBotMessage(le.addSuccessorCount(r._personName));return n.addMessageToBotState(s,t)}(e,t,n)}else if(t.stepID===V.M8.cohabitantChoice){if(e=e.toLowerCase(),r.validate(e,[H.incorrectValueForBoolean]))return dn(e,t,n,rn)}else if(t.stepID===V.M8.cohabitantStep){if(r.validate(e,[H.emptyValue]))return function(e,t,n){var r=yt.getPerson(t.person._id,t.personsMap),a=Qt(e,t,n);if(t.person=Object.assign(t.person,{_cohabitant:a._id}),t.person.setPathforPartner(St.h.cohabitant,a),t.netWealth<=ge.MINIMUM_INHERITANCE_SPOUSE_VS_CHILDREN)return t=(0,i.Z)((0,i.Z)({},t),{},{stepID:V.M8.rearChildrenStep}),Xt(t,n);(t=(0,i.Z)((0,i.Z)({},t),{},{stepID:V.M8.successorStep,successor_flag:V.ce.part3})).testator=Object.assign(t.testator,{_partnerNode:a._id});var s=n.createChatBotMessage(le.addSuccessorCount(r._personName));return n.addMessageToBotState(s,t)}(e,t,n)}else if(t.stepID===V.M8.successorStep){if(t.successor_flag===V.ce.part1){if(r.validate(e,[H.emptyValue]))return Nt(e,t,n)}else if(t.successor_flag===V.ce.part2){if(e=e.toLowerCase(),r.validate(e,[H.incorrectValueForBoolean]))return dn(e,t,n,kt)}else if(t.successor_flag===V.ce.part3){var a=function(e){var t=Object.keys(G).find((function(t){return G[t].includes(e.toLowerCase())}));return null!==t&&void 0!==t?t:e}(e);if(r.validate(a,[H.emptyValue,H.onlyDigit]))return jt(a,t,n)}}else if(t.stepID===V.M8.parentsStep){if(t.successor_flag===V.ce.part1){if(r.validate(e,[H.emptyValue]))return Nt(e,t,n)}else if(t.successor_flag===V.ce.part2){if(e=e.toLowerCase(),r.validate(e,[H.incorrectValueForBoolean]))return dn(e,t,n,kt)}else if(t.successor_flag===V.ce.part3&&r.validate(e,[H.emptyValue,H.onlyDigit]))return jt(e,t,n);if(t.parent_flag===V.ce.part1){if(r.validate(e,[H.emptyValue]))return Zt(e,t,n)}else if(t.parent_flag==V.ce.part2){if(e=e.toLowerCase(),r.validate(e,[H.incorrectValueForBoolean]))return dn(e,t,n,Pt)}else if(t.parent_flag===V.ce.part3&&r.validate(e,[H.incorrectValueForBoolean]))return dn(e,t,n,At)}else if(t.stepID===V.M8.marriedParentsStep){if(e=e.toLowerCase(),r.validate(e,[H.incorrectValueForBoolean]))return dn(e,t,n,Ot)}else if(t.stepID===V.M8.grandParentStep)if(t.successor_flag===V.ce.part1){if(r.validate(e,[H.emptyValue]))return Nt(e,t,n)}else if(t.successor_flag===V.ce.part2){if(e=e.toLowerCase(),r.validate(e,[H.incorrectValueForBoolean]))return dn(e,t,n,kt)}else if(t.successor_flag===V.ce.part3){if(r.validate(e,[H.emptyValue,H.onlyDigit]))return jt(e,t,n)}else if(t.parent_flag===V.ce.part1){if(r.validate(e,[H.emptyValue]))return Zt(e,t,n);if(t.parent_flag==V.ce.part2){if(e=e.toLowerCase(),r.validate(e,[H.incorrectValueForBoolean]))return dn(e,t,n,Pt)}else if(t.parent_flag===V.ce.part3&&r.validate(e,[H.incorrectValueForBoolean]))return dn(e,t,n,At)}}return M(),t=(0,i.Z)((0,i.Z)({},t),{},{messages:t.messages.slice(0,-1)})},sn=function(e,t,n,r){if(t.successor_flag===V.ce.part1){if(r.validate(e,[H.emptyValue]))return Nt(e,t,n)}else if(t.successor_flag===V.ce.part2){if(e=e.toLowerCase(),r.validate(e,[H.incorrectValueForBoolean]))return dn(e,t,n,kt)}else{if(t.successor_flag!==V.ce.part3)return r.validate(e,[H.emptyValue])?function(e,t,n){var r=Qt(e,t,n);t.person=r,t.testator._undividedEstateSpouse=r._id,t.testator.setPathforPartner(St.h.undividedSpouse,r),yt.getPerson(r._id,t.personsMap)._deceased=!0;var a=n.createChatBotMessage(le.TextBeforeSucsrUndvdSpouse);t=n.addMessageToBotState(a,t),t=(0,i.Z)((0,i.Z)({},t),{},{stepID:V.M8.undividedEstateStep,successor_flag:V.ce.part3,temp_person:r,undividedSpouseId:r._id}),r._partnerNode=t.testator._id;var s=n.createChatBotMessage(le.undividedChildrenTogetherCount(),{withAvatar:!0});return n.addMessageToBotState(s,t)}(e,t,n):(t.messages=t.messages.slice(0,-1),t);if(r.validate(e,[H.emptyValue,H.onlyDigit]))return jt(e,t,n)}},on=function(){var e=document.getElementsByClassName("react-chatbot-kit-chat-input")[0];e&&e.focus()},ln=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.setState((function(a){var s;!function(e,t,n,r,a){[{widget:r,func:X},{widget:a,func:q}].forEach((function(r){var a=r.widget,s=r.func;if(a){var i=s(e,n),o=t.createClientMessage(i);n=t.addMessageToBotState(o,n)}}))}(t,e,a,n,r),R()&&(s=j(Z()),P(),B(),s.messages[s.messages.length-1]!==a.messages[a.messages.length-1]&&s.messages.push(a.messages[a.messages.length-1]),a=s);var o=u().cloneDeep(a);return o.messages.pop(),C(o),t=t.trim(),a=an(t,a,e),a=(0,i.Z)({},a),console.log(a),on(),e.returnState(a)}))},dn=function(e,t,n,r){return function(){for(var e=document.getElementsByClassName("option-selector-button"),t=0;t<e.length;t++){var n=e[t];n.disabled||(n.disabled=!0),n.style.pointerEvents="none"}}(),e in D?"function"===typeof r?r(!0,t,n):alert("func is not a function"):e in L?"function"===typeof r?r(!1,t,n):alert("func is not a function"):alert("check for error")},cn=["actionProvider"],un=function(e){var t=e.target,n=t.nextElementSibling,r=t.previousElementSibling,a=n||r;t.style.pointerEvents="none",t.style.background="darkolivegreen",t.disabled=!0,a.style.pointerEvents="none",a.disabled=!0},vn=function(e,t){pn(),ln(t,e?"yes":"no",!0,!1)},pn=function(){var e=document.getElementById("chatbot-warning-div");e&&(e.style.display="none")},hn=function(e){var t=e.actionProvider;(0,o.Z)(e,cn);return(0,Y.jsxs)("div",{className:"option-selector-button-container",children:[(0,Y.jsx)("button",{className:"option-selector-button",onClick:function(e){un(e),vn(!0,t)},children:(0,Y.jsx)(l.Z,{id:"Chatbot.Yes"})}),(0,Y.jsx)("button",{className:"option-selector-button",onClick:function(e){un(e),vn(!1,t)},children:(0,Y.jsx)(l.Z,{id:"Chatbot.No"})})]})},gn=n(98530),fn=function(e){return(0,Y.jsx)(gn.Z,{display:"flex",justifyContent:"center",alignItems:"center",component:"span",className:"InfoMessage",sx:{backgroundColor:"#FFCBA4"},children:e})},_n=["actionProvider"],mn=function(e,t){Tn(),ln(t,e,!1,!0)},xn=function(e){var t=e.target,n=t.parentElement;if(null!==n&&void 0!==n&&n.hasChildNodes){for(var r=0,a=Object.values(n.childNodes);r<a.length;r++){var s=a[r];s.style.pointerEvents="none",s.disabled=!0}t.style.background="darkolivegreen"}},Tn=function(){var e=document.getElementById("chatbot-warning-div");e&&(e.style.display="none")},En=function(e){var t=e.actionProvider;(0,o.Z)(e,_n);return(0,Y.jsxs)("div",{className:"option-selector-button-container",children:[(0,Y.jsx)("button",{className:"option-selector-button",onClick:function(e){xn(e),mn(V.cq.felleseie[0],t)},children:(0,Y.jsx)(l.Z,{id:"Chatbot.OWNERSHIP_TYPE1"})}),(0,Y.jsx)("button",{className:"option-selector-button",onClick:function(e){xn(e),mn(V.cq.delvis[0],t)},children:(0,Y.jsx)(l.Z,{id:"Chatbot.OWNERSHIP_TYPE2"})}),(0,Y.jsx)("button",{className:"option-selector-button",onClick:function(e){xn(e),mn(V.cq.fullt[0],t)},children:(0,Y.jsx)(l.Z,{id:"Chatbot.OWNERSHIP_TYPE3"})})]})},bn=(n(75419),n(84395)),yn=n(34663),Sn=n(41824),Cn=n(43416),Mn=n(20890),jn=n(62037),Nn=n(36151),In=n(5289),kn=n(97123),An=n(39157),Zn=n(51691),Pn=n(65661);function On(e){var t=(0,r.useState)(!1),n=(0,ee.Z)(t,2),a=n[0],s=n[1],i=function(){s(!1)},o=function(){e.actionProvider.resetChatbot()};return(0,Y.jsx)(gn.Z,{sx:{flexGrow:1},children:(0,Y.jsx)(bn.Z,{position:"static",className:"chatbotHeaderAppBar",children:(0,Y.jsxs)(yn.Z,{children:[(0,Y.jsx)(Mn.Z,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Chat"}),(0,Y.jsxs)(gn.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,Y.jsx)(jn.Z,{title:"Undo",children:(0,Y.jsx)(Nn.Z,{id:"chatbot-undo-button",onClick:function(){e.actionProvider.revertLastState(),function(){var e,t,n,r,a,s=document.getElementsByClassName("react-chatbot-kit-chat-message-container")[0].querySelectorAll("div.option-selector-button-container"),i=s[s.length-1],o=s[s.length-2],l=document.querySelector('div[style="padding-bottom: 2.5rem;"]');if((null===i||void 0===i?void 0:i.nextElementSibling)===l||(null===i||void 0===i||null===(e=i.nextElementSibling)||void 0===e||null===(t=e.nextElementSibling)||void 0===t?void 0:t.nextElementSibling)===l){var d,c=(0,W.Z)(i.children);try{for(c.s();!(d=c.n()).done;){var u=d.value;u.removeAttribute("disabled"),u.removeAttribute("style"),u.setAttribute("style","background-color:#2dabf9")}}catch(g){c.e(g)}finally{c.f()}}if((null===o||void 0===o||null===(n=o.nextElementSibling)||void 0===n||null===(r=n.nextElementSibling)||void 0===r||null===(a=r.nextElementSibling)||void 0===a?void 0:a.nextElementSibling)===l){var v,p=(0,W.Z)(o.children);try{for(p.s();!(v=p.n()).done;){var h=v.value;h.removeAttribute("disabled"),h.removeAttribute("style"),h.setAttribute("style","background-color:#2dabf9")}}catch(g){p.e(g)}finally{p.f()}}}(),on()},style:{backgroundColor:"rgb(92, 204, 157)"},children:(0,Y.jsx)(Cn.Z,{fontSize:"small"})})}),(0,Y.jsx)(gn.Z,{sx:{width:"8px"}}),(0,Y.jsx)(jn.Z,{title:"Restart",children:(0,Y.jsx)(Nn.Z,{id:"chatbot-restart-button",onClick:function(){s(!0)},style:{backgroundColor:"rgb(92, 204, 157)"},children:(0,Y.jsx)(Sn.Z,{fontSize:"small"})})})]}),(0,Y.jsxs)(In.Z,{open:a,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,Y.jsx)(Pn.Z,{id:"alert-dialog-title",children:"Restart ChatBot?"}),(0,Y.jsx)(An.Z,{children:(0,Y.jsx)(Zn.Z,{id:"alert-dialog-description",children:"Do you really want to finish current session and start over?"})}),(0,Y.jsxs)(kn.Z,{children:[(0,Y.jsx)(Nn.Z,{onClick:i,children:"No"}),(0,Y.jsx)(Nn.Z,{onClick:function(){o(),s(!1)},autoFocus:!0,children:"Yes"})]})]})]})})})}var Bn=n(44392),Rn=function(e){return(0,Y.jsx)(jn.Z,{title:"Click to Download Report",children:(0,Y.jsxs)(gn.Z,{className:"react-chatbot-kit-custom-chat-message-container",children:[(0,Y.jsx)("div",{className:"react-chatbot-kit-custom-chat-text-message-container",children:e.payload}),(0,Y.jsx)("div",{className:"react-chatbot-kit-custom-chat-image-message-container",children:(0,Y.jsx)(Bn.Z,{})})]})})},wn=(0,pe.Sn)(),Dn=(0,he.d)({locale:"nb-NO",messages:ve},wn).formatMessage({id:"Chatbot.TESTATOR_QUESTION"}),Ln={botName:"Arvebot",lang:"no",customStyles:{botMessageBox:{backgroundColor:"#376B7E"},chatButton:{backgroundColor:"#5ccc9d"}},state:v.jd,initialMessages:[(0,s.createChatBotMessage)(Dn,{})],customComponents:{header:function(e){return(0,Y.jsx)(On,{actionProvider:e})}},customMessages:{custom:function(e){return(0,Y.jsx)(Rn,(0,i.Z)({},e))}},widgets:[{widgetName:"optionSelectorWidget",widgetFunc:function(e){return(0,Y.jsx)(hn,(0,i.Z)({},e))}},{widgetName:"InfoMessage",widgetFunc:function(e){return(0,Y.jsx)(fn,(0,i.Z)({},e))}},{widgetName:"undividedEstateWidget",widgetFunc:function(e){return(0,Y.jsx)(En,(0,i.Z)({},e))}}]},Vn=function(){function e(t,n){(0,U.Z)(this,e),this.actionProvider=void 0,this.state=void 0,this.actionProvider=t,this.state=n}return(0,Q.Z)(e,[{key:"parse",value:function(e){this.state.yesNoClickedFlag=!1,ln(this.actionProvider,e,!1,!1)}}]),e}();var Hn,Fn,Wn,Un=function(){function e(t,n,r,a){var s=this;(0,U.Z)(this,e),this.createChatBotMessage=void 0,this.setState=void 0,this.createClientMessage=void 0,this.stateRef=void 0,this.checkstate=null,this.isStarted=!0,this.glb_state=null,this.GRANDCHILDREN_PATH_LIMIT=4,this.addMessageToBotState=function(e,t){return Array.isArray(e)?t.messages=[].concat((0,Ct.Z)(t.messages),(0,Ct.Z)(e)):t.messages=[].concat((0,Ct.Z)(t.messages),[e]),t},this.generateNextID=function(e){return s.setState((function(e){return e.id=e.id+1,s.returnState(e)})),e},this.set_spouse=function(e,t,n,r){return bt.K.getNode(e,r.nodeMap)._spouse=t,n&&(bt.K.getNode(t,r.nodeMap)._spouse=e),r},this.check=function(e){var t=s;s.isStarted&&(s.checkstate=setInterval((function(){null!==t.glb_state&&(t.isStarted=!1,T({detail:t.glb_state}),t.glb_state=null,clearInterval(s.checkstate))}),e))},this.returnState=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return setTimeout((function(){s.check(t),s.glb_state=function(e){return{nodeMap:e.nodeMap,personsMap:e.personsMap,testator:e.testator}}(e)}),t),e},this.resetChatbot=function(){s.setState((function(e){(e=v.ym).messages=[],e.personMap=new Map,e.nodeMap=new Map,e.testator=new bt.K(0,0);var t=s.createChatBotMessage(le.TestatorQuestion);e=s.addMessageToBotState(t,e),Jt(e.stepID),w();var n=document.getElementById("chatbot-undo-button");return n&&(n.style.display="block"),s.returnState(e)}))},this.revertLastState=function(){O(),s.setState((function(e){var t=N(Z());return A(),null==t?(s.resetChatbot(),s.returnState(e)):(Jt((e=t).stepID),s.returnState(e))}))},this.delay=function(e){return new Promise((function(t){setTimeout(t,1e3*e)}))},this.handleValidation=function(e,t){return e&&0!==e.length?(t.messages=e,t):t},this.createChatBotMessage=t,this.setState=n,this.createClientMessage=r,this.stateRef=a}return(0,Q.Z)(e,[{key:"setRevertListeners",value:function(){var e=this;I();var t=E().subscribe((function(t){!function(e){var t,n=localStorage.getItem("revertCount");(t=N(n?parseInt(n):0))&&(n?localStorage.setItem("revertCount",(parseInt(n)+1).toString()):localStorage.setItem("revertCount","1"),e.setState((function(n){return n=t,e.returnState(n)})))}(e)}));y(t)}}]),e}(),Qn=Un,Kn=n(17504),Gn=(0,Q.Z)((function e(t,n,r,a,s){(0,U.Z)(this,e),this.id=void 0,this.type=void 0,this.data=void 0,this.position=void 0,this.xLevel=void 0,this.draggable=!1,this.connectable=!1,this.id=t,this.type=n,this.data=r,this.position=a,this.xLevel=s})),zn=(0,Q.Z)((function e(t,n){(0,U.Z)(this,e),this.label="",this.showDialog=void 0,this.pos=void 0,this.label=t,this.pos=n,this.showDialog=!1})),Yn=Gn,Xn=(0,Q.Z)((function e(t,n,r,a,s){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";(0,U.Z)(this,e),this.id=void 0,this.type="smoothstep",this.source=void 0,this.target=void 0,this.label=void 0,this.animated=!1,this.sourceHandle=void 0,this.targetHandle=void 0,this.id=t,this.type=n,this.source=r,this.target=a,this.label=s,this.sourceHandle=i,this.targetHandle=o})),qn=Xn,$n=(0,Q.Z)((function e(t,n){(0,U.Z)(this,e),this.parent=void 0,this.elements=void 0,this.elements=t,this.parent=n})),Jn=-999999,er=999999,tr=[[1],[-1,1],[-1,0,1],[-2,-1,1,2]],nr=new Map,rr=new Array,ar=123,sr=function(e,t){for(var n=new Array,r=Jn;r>=er;r--){var a=e.get(r);if(void 0!==a){var s,i=(0,W.Z)(a);try{var o=function(){var e=s.value;n.includes(e.id)||n.push(e.id);var a=bt.K.getNode(parseInt(e.id),t);if(r!==Jn){var i=0,o=a._parents;o.map((function(e){var t=nr.get(e);void 0!==t&&(i+=t.xLevel)})),0!==o.length&&(e.xLevel=i/o.length)}ir(a,n,r),hr(a._path,n),a._partnerPath&&hr(a._partnerPath,n)};for(i.s();!(s=i.n()).done;)o()}catch(l){i.e(l)}finally{i.f()}}}},ir=function(e,t,n){var r=e._cohabitant||e._spouse,a=e._undividedEstateSpouse;Wn.has(n)||Wn.set(n,new Array);var s=Wn.get(n);if(r&&a){var i=pr("".concat(e._id)),o=e._spouse?e._spouse:e._cohabitant,l=e._undividedEstateSpouse;t.includes("".concat(o))||t.push("".concat(o)),t.includes("".concat(l))||t.push("".concat(l));var d=pr("".concat(o)),c=pr("".concat(l));if(d.data.pos||(d.data.pos={}),i.data.pos||(i.data.pos={}),s&&o&&l&&s.push(o,e._id,l),d.data.pos||(d.data.pos={}),c.data.pos||(c.data.pos={}),i.data.pos||(i.data.pos={}),d.xLevel=i.xLevel+.01,d.data.pos.right="right",c.xLevel=i.xLevel-.01,c.data.pos.left="left",i.data.pos.left="left",i.data.pos.right="right",0===rr.filter((function(t){return t.id==="e".concat(o,"-").concat(e._id)})).length){var u=new qn("e".concat(o,"-").concat(e._id),"straight","".concat(o),"".concat(e._id),"","s_right","t_left");rr.push(u)}if(0===rr.filter((function(t){return t.id==="e".concat(e._id,"-").concat(l)})).length){var v=new qn("e".concat(e._id,"-").concat(l),"straight","".concat(e._id),"".concat(l),"","s_right","t_left");rr.push(v)}}else if(r||a){var p=pr("".concat(e._id)),h=e._spouse?e._spouse:e._cohabitant?e._cohabitant:e._undividedEstateSpouse?e._undividedEstateSpouse:null,g=pr("".concat(h));if(g.data.pos||(g.data.pos={}),p.data.pos||(p.data.pos={}),s&&h&&s.push(e._id,h),g.xLevel=p.xLevel-.01,g.data.pos.left="left",p.data.pos.right="right",0===rr.filter((function(t){return t.id==="e".concat(h,"-").concat(e._id)})).length){var f=new qn("e".concat(e._id,"-").concat(h),"straight","".concat(e._id),"".concat(h),"","s_right","t_left");rr.push(f)}}else console.log("Unreachable")},or=function(e){var t=new Map;return e.nodeMap.forEach((function(n,r){var a,s=yt.getPerson(n._id,e.personsMap);n._level>Jn&&(Jn=n._level),n._level<er&&(er=n._level),t.has(n._level)||t.set(n._level,new Array);var i=s._deceased?"\u2020 ".concat(s._personName):s._personName,o=new Yn(n._id.toString(),"specialNode",new zn(i),{x:0,y:0},0);null===(a=t.get(n._level))||void 0===a||a.push(o),nr.set(n._id,o)})),t},lr=function(e,t){for(var n=0,r=Jn;r>=er;r--){var a=e.get(r);if(void 0!==a){var s=a.sort((function(e,t){return e.xLevel>t.xLevel?-1:1})),i=cr(s,Wn.get(r),t);dr(i,n)}n+=Fn}},dr=function(e,t){var n,r=0,a=Hn-ar,s=-1e7,i=(0,W.Z)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value,l=o.elements.length;if(o.parent){var d=pr(o.parent.toString()),c=d.position.x+61.5-(l*ar+(l-1)*a)/2,u=d.position.x+61.5+(l*ar+(l-1)*a)/2;s>c&&(c=s),s=u+a;var v,p=(0,W.Z)(o.elements);try{for(p.s();!(v=p.n()).done;){var h=v.value;pr(h.toString()).position={x:c,y:t},r=c+=Hn}}catch(m){p.e(m)}finally{p.f()}}else{s=r+l*Hn;var g,f=(0,W.Z)(o.elements);try{for(f.s();!(g=f.n()).done;){var _=g.value;pr(_.toString()).position={x:r,y:t},r+=Hn}}catch(m){f.e(m)}finally{f.f()}}}}catch(m){i.e(m)}finally{i.f()}},cr=function(e,t,n){var r,a=new Array,s=!1,i=(0,W.Z)(e);try{var o=function(){var e=r.value,i=bt.K.getNode(parseInt(e.id),n);if(t&&t.includes(i._id)){if(s)return"continue";var o;s=!0;var l,d=!1,c=(0,W.Z)(t);try{var u=function(){var e=l.value,r=bt.K.getNode(e,n),s=a.filter((function(e){return!!e.parent&&r._parents.includes(e.parent)}));if(0!==s.length)return s[0].elements=s[0].elements.concat(t),d=!0,"break";0!==r._parents.length&&(o=r._parents[0])};for(c.s();!(l=c.n()).done;){if("break"===u())break}}catch(h){c.e(h)}finally{c.f()}d||a.push(new $n(t,o))}else{var v,p=a.filter((function(e){return!!e.parent&&i._parents.includes(e.parent)}));0!==p.length?(v=p[0]).elements.push(i._id):(v=0!==i._parents.length?new $n([i._id],i._parents[0]):new $n([i._id]),a.push(v))}};for(i.s();!(r=i.n()).done;)o()}catch(l){i.e(l)}finally{i.f()}return a},ur=function(e){var t=new Array;return nr.forEach((function(n,r){0!==bt.K.getNode(parseInt(n.id),e)._path.length&&t.push(n)})),t.concat(rr)},vr=function(e){for(var t=tr[e.length-1],n=0;n<e.length;n++)e[n].xLevel=t[n]},pr=function(e){var t=nr.get(parseInt(e));if(void 0==t)throw new Error("Person not found with given id:"+e);return t},hr=function(e,t){for(var n=function(){if(e[r][0]===St.h.testator&&(e[r+1][0]===St.h.spouse||e[r+1][0]===St.h.cohabitant||e[r+1][0]===St.h.undividedSpouse))return"break";t.push(e[r][1].toString());var n="",a="";e[r+1][0]<=e[r][0]||e[r+1][0]===St.h.child&&e[r][0]===St.h.testator?(n=e[r][1].toString(),a=e[r+1][1].toString()):(n=e[r+1][1].toString(),a=e[r][1].toString());var s=pr(n);s.data.pos||(s.data.pos={}),s.data.pos.bottom="bottom";var i=pr(a);if(i.data.pos||(i.data.pos={}),i.data.pos.top="top",0===rr.filter((function(e){return e.id==="e".concat(n,"-").concat(a)})).length){var o=new qn("e".concat(n,"-").concat(a),"straight",n,a,"","s_bottom","t_top");rr.push(o)}},r=e.length-2;r>=0;r--){if("break"===n())break}},gr=n(32865),fr=function(e){return e.source="source",e.target="target",e}(fr||{}),_r=[{type:"source",position:Kn.Ly.Right,id:"s_right",style:{top:"50%",background:"#555"}},{type:"source",position:Kn.Ly.Bottom,id:"s_bottom",style:{left:"50%",background:"#555"}},{type:"target",position:Kn.Ly.Left,id:"t_left",style:{top:"50%",background:"#555"}},{type:"target",position:Kn.Ly.Top,id:"t_top",style:{left:"50%",background:"#555"}}],mr={OuterDiv:{background:"#fff",color:"#000",width:"7rem",borderRadius:"3px",borderColor:"midnightblue",borderStyle:"solid",borderWidth:"1px",letterSpacing:"0.5px"},innerDiv1:{width:"6.8rem",display:"contents",height:"".concat("2 / 3","%"),padding:"5%"},innerDiv2:{display:"none",borderTop:"black solid 1px",padding:"0 2px",letterSpacing:0},textFitStyle:{margin:"auto",textAlign:"center",fontSize:"90%",paddingBottom:"0.2rem"},subtitle:{fontSize:"0.5rem",margin:0,whiteSpace:"nowrap"}},xr=function(e,t){return!(!e||e.left!==t&&e.right!==t&&e.top!==t&&e.bottom!==t)},Tr=function(e){return e},Er=function(e){var t=e.data,n=t.isConnectable,r=_r.map((function(e,r){if(xr(t.pos,e.position))return(0,Y.jsx)(Kn.HH,{type:"source"===e.type?fr.source:fr.target,position:e.position,id:e.id,style:e.style,isConnectable:n},e.id)})),a=Tr(t.label);return(0,Y.jsx)("div",{children:(0,Y.jsxs)("div",{id:"detail_".concat(e.id),style:mr.OuterDiv,children:[(0,Y.jsx)("div",{style:mr.innerDiv1,children:(0,Y.jsx)(gr.iF,{style:mr.textFitStyle,max:20,mode:"single",forceSingleModeWidth:!1,children:a})}),(0,Y.jsx)("div",{style:mr.innerDiv2,children:(0,Y.jsx)("p",{style:mr.subtitle,children:"Amount: NOK "})}),r]})})},br=new d.x,yr=new Array,Sr=function(e){return br.next(e)},Cr=function(){return br.asObservable()},Mr=function(e){return yr.push(e)},jr=function(){yr.forEach((function(e){e.unsubscribe()}))},Nr={height:"100%",width:"100%",borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem",borderBottomLeftRadius:"0.3rem",borderBottomRightRadius:"0.3rem"},Ir=!0,kr=function(){var e=(0,r.useState)({nodeMap:new Map,personMap:new Map,testator:null}),t=(0,ee.Z)(e,2),n=t[0],a=t[1],s=(0,r.useState)([]),i=(0,ee.Z)(s,2),o=i[0],l=i[1],d=(0,r.useRef)(!1),c=(0,Kn.Bn)();(0,r.useEffect)((function(){return function(){d.current=!0}}),[]),(0,r.useEffect)((function(){jr();var e=Cr().subscribe((function(e){return a(e)}));Mr(e),d.current&&jr()}),[1]),(0,r.useEffect)((function(){setTimeout((function(){o.forEach((function(e){e instanceof Yn&&c(e.id)}))}),500)}),[o]),(0,r.useEffect)((function(){l(function(e){Jn=-999999,er=999999,nr=new Map,rr=new Array,Wn=new Map,Hn=180,Fn=100;var t=or(e),n=t.get(Jn);return 0===e.nodeMap.length||void 0===n?[]:(vr(n),sr(t,e.nodeMap),lr(t,e.nodeMap),ur(e.nodeMap))}(n)),Ir=!0}),[n]);var u=(0,Kn.Hs)().fitView,v={specialNode:Er};return(0,r.useEffect)((function(){Ir&&setTimeout((function(){u()}),100)})),(0,Y.jsxs)(Kn.ZP,{elements:o,style:Nr,nodeTypes:v,nodesConnectable:!1,paneMoveable:!1,selectNodesOnDrag:!1,elementsSelectable:!1,nodesDraggable:!1,children:[(0,Y.jsx)(Kn.Aq,{variant:Kn.T7.Lines,gap:1,size:2}),(0,Y.jsx)(Kn.ZX,{})]})};var Ar=n.p+"static/media/chat_button_logo.6fc97b77026ad50b1225b3f11fd4a35b.svg",Zr=function(){var e=document.createElement("div");e.id="chatbot-warning-div",e.innerHTML="warning",e.style.cssText="background-color: red; position: absolute; bottom: 2.5rem; width: 100%; display: none;",document.getElementsByClassName("react-chatbot-kit-chat-input-form")[0].prepend(e),document.querySelector(".react-chatbot-kit-chat-message-container").lastChild.style.paddingBottom="2.5rem"},Pr=function(){document.getElementsByClassName("react-chatbot-kit-chat-input")[0].addEventListener("input",(function(){var e=document.getElementById("chatbot-warning-div");e&&"block"===e.style.display&&(e.style.display="none")}))},Or=function(){var e="block";(0,r.useEffect)((function(){k();var e=b().subscribe((function(e){var t=e.detail;Sr(t)}));S(e),Zr(),Pr()}),[1]);return(0,Y.jsx)(a.ZP,{container:!0,direction:"column",id:"InheritanceCalculatorMain",justifyContent:"center",children:(0,Y.jsxs)(a.ZP,{item:!0,container:!0,direction:"row",justifyContent:"space-between",alignItems:"flex-end",marginTop:"4rem",children:[(0,Y.jsx)(a.ZP,{item:!0,xs:12,sm:10,md:7,style:{height:"80vh"},className:"orgChartContainer",children:(0,Y.jsx)(Kn.tV,{children:(0,Y.jsx)(kr,{})})}),(0,Y.jsxs)(a.ZP,{item:!0,xs:10,sm:8,md:4,className:"chatbotContainer",children:[(0,Y.jsx)(s.Chatbot,{config:Ln,actionProvider:Qn,messageParser:Vn}),(0,Y.jsx)("button",{className:"ChatbotToggleButton",onClick:function(){var t=document.getElementsByClassName("react-chatbot-kit-chat-container")[0];"block"===e?(t.style.display="none",e="none"):(t.style.display="block",e="block")},children:(0,Y.jsx)("img",{src:Ar})})]})]})})}},42480:function(){},19527:function(){},69331:function(){},69862:function(){},40964:function(){}}]);
//# sourceMappingURL=119.2400b87e.chunk.js.map